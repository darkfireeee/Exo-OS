warning: profiles for the non root package will be ignored, specify profiles at the workspace root:
package:   /mnt/c/Users/Eric/Documents/Exo-OS/kernel/Cargo.toml
workspace: /mnt/c/Users/Eric/Documents/Exo-OS/Cargo.toml
   Compiling scopeguard v1.2.0
   Compiling bitflags v2.9.4
   Compiling volatile v0.4.6
   Compiling bit_field v0.10.3
   Compiling bitflags v1.3.2
   Compiling uguid v2.2.1
   Compiling log v0.4.28
warning: exo-kernel@0.2.0: Compiled boot.asm with NASM
warning: exo-kernel@0.2.0: Compiled serial.c
warning: exo-kernel@0.2.0: Compiled windowed_context_switch.S (alias context_switch)
   Compiling hashbrown v0.14.5
   Compiling lock_api v0.4.14
   Compiling x86_64 v0.14.13
   Compiling uefi-raw v0.5.2
   Compiling raw-cpuid v10.7.0
   Compiling volatile v0.5.4
   Compiling spin v0.9.8
   Compiling spinning_top v0.2.5
   Compiling linked_list_allocator v0.10.5
   Compiling lazy_static v1.5.0
   Compiling multiboot2 v0.22.2
   Compiling uart_16550 v0.2.19
   Compiling pic8259 v0.10.4
   Compiling exo-kernel v0.2.0 (/mnt/c/Users/Eric/Documents/Exo-OS/kernel)
warning: unused import: `Ordering`
 --> kernel/src/arch/x86_64/interrupts.rs:5:37
  |
5 | use core::sync::atomic::{AtomicU64, Ordering};
  |                                     ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unexpected `cfg` condition value: `debug`
   --> kernel/src/libutils/arch/x86_64/interrupts.rs:127:15
    |
127 |         #[cfg(feature = "debug")]
    |               ^^^^^^^^^^^^^^^^^
    |
    = note: expected values for `feature` are: `adaptive_drivers`, `bench_auto_exit`, `binary`, `capnp`, `crypto`, `default`, `ed25519-dalek`, `fusion_rings`, `hybrid_allocator`, `predictive_scheduler`, `serialization`, `sha3`, and `windowed_context_switch`
    = help: consider adding `debug` as a feature in `Cargo.toml`
    = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
    = note: `#[warn(unexpected_cfgs)]` on by default

warning: unused import: `Ordering`
 --> kernel/src/libutils/macros/lazy_static.rs:6:38
  |
6 | use core::sync::atomic::{AtomicBool, Ordering};
  |                                      ^^^^^^^^

warning: unused import: `core::ops::Deref`
 --> kernel/src/libutils/macros/lazy_static.rs:9:5
  |
9 | use core::ops::Deref;
  |     ^^^^^^^^^^^^^^^^

warning: unused imports: `FrameAllocator`, `Mapper`, and `PhysAddr`
 --> kernel/src/memory/page_table.rs:7:9
  |
7 |         FrameAllocator, Mapper, OffsetPageTable, Page, PageTable, PageTableFlags, PhysFrame, Size4KiB,
  |         ^^^^^^^^^^^^^^  ^^^^^^
8 |     },
9 |     PhysAddr, VirtAddr,
  |     ^^^^^^^^

warning: unused import: `NonNull`
  --> kernel/src/memory/hybrid_allocator.rs:23:23
   |
23 | use core::ptr::{self, NonNull};
   |                       ^^^^^^^

warning: unused imports: `PageTableFlags`, `Page`, `Size4KiB`, and `VirtAddr`
  --> kernel/src/memory/mod.rs:19:9
   |
19 |         Page, PageTableFlags, Size4KiB,
   |         ^^^^  ^^^^^^^^^^^^^^  ^^^^^^^^
20 |     },
21 |     VirtAddr,
   |     ^^^^^^^^

warning: unused doc comment
  --> kernel/src/scheduler/mod.rs:46:1
   |
46 | /// Ordonnanceur global (RR avec work-stealing par défaut)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations
   |
   = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion
   = note: `#[warn(unused_doc_comments)]` (part of `#[warn(unused)]`) on by default

warning: unused doc comment
   --> kernel/src/scheduler/scheduler.rs:168:1
    |
168 |   /// Fonction externe définie dans l'assembleur windowed_context_switch.S (alias context_switch)
    |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
169 | / extern "C" {
170 | |     fn context_switch(old_context: *mut ThreadContext, new_rsp: u64);
171 | | }
    | |_- rustdoc does not generate documentation for extern blocks
    |
    = help: use `//` for a plain comment

warning: unused import: `ThreadState`
  --> kernel/src/scheduler/mod.rs:35:32
   |
35 | use thread::{Thread, ThreadId, ThreadState};
   |                                ^^^^^^^^^^^

warning: unused import: `core::mem::MaybeUninit`
  --> kernel/src/ipc/fusion_ring.rs:13:5
   |
13 | use core::mem::MaybeUninit;
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `core::arch::asm`
 --> kernel/src/syscall/mod.rs:7:5
  |
7 | use core::arch::asm;
  |     ^^^^^^^^^^^^^^^

warning: unused import: `crate::memory`
  --> kernel/src/syscall/dispatch.rs:10:5
   |
10 | use crate::memory;
   |     ^^^^^^^^^^^^^

warning: unused import: `crate::drivers::block`
  --> kernel/src/syscall/dispatch.rs:12:5
   |
12 | use crate::drivers::block;
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `AtomicUsize`
  --> kernel/src/drivers/adaptive_driver.rs:29:37
   |
29 | use core::sync::atomic::{AtomicU64, AtomicUsize, Ordering};
   |                                     ^^^^^^^^^^^

warning: unused doc comment
   --> kernel/src/perf_counters.rs:235:1
    |
235 | /// Instance globale du gestionnaire de performance
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations
    |
    = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion

warning: unused import: `print`
 --> kernel/src/perf_counters.rs:8:22
  |
8 | use crate::{println, print};
  |                      ^^^^^

warning: unused import: `calibrate_tsc_frequency`
 --> kernel/src/perf/runtime_bench.rs:7:71
  |
7 | use crate::perf::bench_framework::{BenchStats, BenchmarkSuite, rdtsc, calibrate_tsc_frequency};
  |                                                                       ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `core::ptr::NonNull`
   --> kernel/src/lib.rs:139:25
    |
139 |                     use core::ptr::NonNull;
    |                         ^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `x86_64::instructions::segmentation::set_cs`: use `CS::set_reg()` instead
  --> kernel/src/arch/x86_64/gdt.rs:47:9
   |
47 |         set_cs(GDT.1.code_selector);
   |         ^^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: use of deprecated function `x86_64::instructions::segmentation::load_ds`: use `DS::set_reg()` instead
  --> kernel/src/arch/x86_64/gdt.rs:48:9
   |
48 |         load_ds(GDT.1.data_selector);
   |         ^^^^^^^

warning: use of deprecated function `x86_64::instructions::segmentation::set_cs`: use `CS::set_reg()` instead
  --> kernel/src/arch/x86_64/gdt.rs:42:46
   |
42 |     use x86_64::instructions::segmentation::{set_cs, load_ds};
   |                                              ^^^^^^

warning: use of deprecated function `x86_64::instructions::segmentation::load_ds`: use `DS::set_reg()` instead
  --> kernel/src/arch/x86_64/gdt.rs:42:54
   |
42 |     use x86_64::instructions::segmentation::{set_cs, load_ds};
   |                                                      ^^^^^^^

warning: use of deprecated function `core::sync::atomic::spin_loop_hint`: use hint::spin_loop instead
 --> kernel/src/libutils/sync/mutex.rs:8:48
  |
8 | use core::sync::atomic::{AtomicBool, Ordering, spin_loop_hint};
  |                                                ^^^^^^^^^^^^^^

warning: use of deprecated function `core::sync::atomic::spin_loop_hint`: use hint::spin_loop instead
  --> kernel/src/libutils/sync/mutex.rs:51:13
   |
51 |             spin_loop_hint();
   |             ^^^^^^^^^^^^^^

warning: unnecessary `unsafe` block
  --> kernel/src/arch/x86_64/interrupts.rs:16:5
   |
16 |     unsafe { interrupts::enable(); }
   |     ^^^^^^ unnecessary `unsafe` block
   |
   = note: `#[warn(unused_unsafe)]` (part of `#[warn(unused)]`) on by default

warning: unnecessary `unsafe` block
  --> kernel/src/arch/x86_64/interrupts.rs:28:5
   |
28 |     unsafe { interrupts::enable(); }
   |     ^^^^^^ unnecessary `unsafe` block

warning: unused variable: `cores`
  --> kernel/src/arch/x86_64/mod.rs:25:13
   |
25 | pub fn init(cores: usize) {
   |             ^^^^^ help: if this is intentional, prefix it with an underscore: `_cores`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `index`
   --> kernel/src/libutils/arch/x86_64/interrupts.rs:126:41
    |
126 |     fn print_unhandled_interrupt(&self, index: u8, context: &InterruptContext) {
    |                                         ^^^^^ help: if this is intentional, prefix it with an underscore: `_index`

warning: unused variable: `context`
   --> kernel/src/libutils/arch/x86_64/interrupts.rs:126:52
    |
126 |     fn print_unhandled_interrupt(&self, index: u8, context: &InterruptContext) {
    |                                                    ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_context`

warning: unnecessary `unsafe` block
  --> kernel/src/libutils/macros/println.rs:50:17
   |
50 |                 unsafe {
   |                 ^^^^^^ unnecessary `unsafe` block

warning: unused variable: `page`
  --> kernel/src/memory/page_table.rs:45:29
   |
45 |     pub fn get_flags(&self, page: Page<Size4KiB>) -> Result<PageTableFlags, &'static str> {
   |                             ^^^^ help: if this is intentional, prefix it with an underscore: `_page`

warning: unused variable: `used`
  --> kernel/src/memory/heap_allocator.rs:27:9
   |
27 |     let used = USED_BYTES.load(Ordering::Relaxed);
   |         ^^^^ help: if this is intentional, prefix it with an underscore: `_used`

warning: unnecessary `unsafe` block
  --> kernel/src/memory/mod.rs:77:13
   |
77 |             unsafe {
   |             ^^^^^^ unnecessary `unsafe` block

warning: unnecessary `unsafe` block
  --> kernel/src/memory/mod.rs:87:9
   |
87 |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

warning: variable does not need to be mutable
   --> kernel/src/ipc/fusion_ring.rs:146:13
    |
146 |         let mut ring = Self {
    |             ----^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> kernel/src/ipc/mod.rs:209:13
    |
209 |         let mut pool = SHARED_POOL.lock();
    |             ----^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `buf_ptr`
  --> kernel/src/syscall/dispatch.rs:26:9
   |
26 |     let buf_ptr = args.rsi as *mut u8;
   |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_buf_ptr`

warning: unused variable: `path_ptr`
   --> kernel/src/syscall/dispatch.rs:119:9
    |
119 |     let path_ptr = args.rdi as *const u8;
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_path_ptr`

warning: unused variable: `flags`
   --> kernel/src/syscall/dispatch.rs:120:9
    |
120 |     let flags = args.rsi;
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_flags`

warning: unused variable: `mode`
   --> kernel/src/syscall/dispatch.rs:121:9
    |
121 |     let mode = args.rdx;
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_mode`

warning: unused variable: `fd`
   --> kernel/src/syscall/dispatch.rs:136:9
    |
136 |     let fd = args.rdi;
    |         ^^ help: if this is intentional, prefix it with an underscore: `_fd`

warning: unused variable: `exit_code`
   --> kernel/src/syscall/dispatch.rs:151:9
    |
151 |     let exit_code = args.rdi;
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_exit_code`

warning: unused variable: `ms`
   --> kernel/src/syscall/dispatch.rs:183:9
    |
183 |     let ms = args.rdi;
    |         ^^ help: if this is intentional, prefix it with an underscore: `_ms`

warning: unused variable: `addr`
   --> kernel/src/syscall/dispatch.rs:203:9
    |
203 |     let addr = args.rdi;
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_addr`

warning: unused variable: `length`
   --> kernel/src/syscall/dispatch.rs:204:9
    |
204 |     let length = args.rsi;
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_length`

warning: unused variable: `prot`
   --> kernel/src/syscall/dispatch.rs:205:9
    |
205 |     let prot = args.rdx;
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_prot`

warning: unused variable: `flags`
   --> kernel/src/syscall/dispatch.rs:206:9
    |
206 |     let flags = args.r10;
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_flags`

warning: unused variable: `fd`
   --> kernel/src/syscall/dispatch.rs:207:9
    |
207 |     let fd = args.r8;
    |         ^^ help: if this is intentional, prefix it with an underscore: `_fd`

warning: unused variable: `offset`
   --> kernel/src/syscall/dispatch.rs:208:9
    |
208 |     let offset = args.r9;
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_offset`

warning: unused variable: `addr`
   --> kernel/src/syscall/dispatch.rs:224:9
    |
224 |     let addr = args.rdi;
    |         ^^^^ help: if this is intentional, prefix it with an underscore: `_addr`

warning: unused variable: `length`
   --> kernel/src/syscall/dispatch.rs:225:9
    |
225 |     let length = args.rsi;
    |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_length`

warning: unused variable: `flags`
   --> kernel/src/syscall/dispatch.rs:243:9
    |
243 |     let flags = args.rdi;
    |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_flags`

warning: unused variable: `stack_ptr`
   --> kernel/src/syscall/dispatch.rs:244:9
    |
244 |     let stack_ptr = args.rsi;
    |         ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_stack_ptr`

warning: unused variable: `tls_ptr`
   --> kernel/src/syscall/dispatch.rs:245:9
    |
245 |     let tls_ptr = args.rdx;
    |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_tls_ptr`

warning: unused variable: `regs_ptr`
   --> kernel/src/syscall/dispatch.rs:246:9
    |
246 |     let regs_ptr = args.r10;
    |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_regs_ptr`

warning: unused variable: `data`
   --> kernel/src/drivers/block/mod.rs:191:57
    |
191 |     fn read_sectors(&mut self, sector: u64, count: u64, data: *mut u8) -> Result<(), BlockError> {
    |                                                         ^^^^ help: if this is intentional, prefix it with an underscore: `_data`

warning: unused variable: `data`
   --> kernel/src/drivers/block/mod.rs:210:58
    |
210 |     fn write_sectors(&mut self, sector: u64, count: u64, data: *const u8) -> Result<(), BlockError> {
    |                                                          ^^^^ help: if this is intentional, prefix it with an underscore: `_data`

warning: unused variable: `driver`
   --> kernel/src/drivers/block/mod.rs:335:13
    |
335 |     for (_, driver) in block_drivers {
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_driver`

warning: unnecessary `unsafe` block
  --> kernel/src/drivers/serial.rs:18:9
   |
18 |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

warning: unnecessary `unsafe` block
  --> kernel/src/drivers/serial.rs:30:9
   |
30 |         unsafe { read_port_u8(self.port + 5) & 0x20 != 0 }
   |         ^^^^^^ unnecessary `unsafe` block

warning: unnecessary `unsafe` block
  --> kernel/src/drivers/serial.rs:35:9
   |
35 |         unsafe {
   |         ^^^^^^ unnecessary `unsafe` block

warning: function `demo_a` is never used
   --> kernel/src/lib.rs:199:8
    |
199 |     fn demo_a() {
    |        ^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: function `demo_b` is never used
   --> kernel/src/lib.rs:209:8
    |
209 |     fn demo_b() {
    |        ^^^^^^

warning: static `TICK_COUNT` is never used
 --> kernel/src/arch/x86_64/interrupts.rs:8:8
  |
8 | static TICK_COUNT: AtomicU64 = AtomicU64::new(0);
  |        ^^^^^^^^^^

warning: fields `p4_table` and `phys_offset` are never read
  --> kernel/src/memory/page_table.rs:16:5
   |
14 | pub struct PageTableManager {
   |            ---------------- fields in this struct
15 |     /// Table de pages de niveau 4 (PML4)
16 |     p4_table: &'static mut PageTable,
   |     ^^^^^^^^
17 |     /// Offset entre adresses physiques et virtuelles
18 |     phys_offset: VirtAddr,
   |     ^^^^^^^^^^^

warning: field `name` is never read
  --> kernel/src/ipc/channel.rs:53:5
   |
51 | pub struct Channel {
   |            ------- field in this struct
52 |     /// Nom du canal (pour le debug)
53 |     name: alloc::string::String,
   |     ^^^^
   |
   = note: `Channel` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: constant `SLOT_SIZE` is never used
  --> kernel/src/ipc/fusion_ring.rs:23:7
   |
23 | const SLOT_SIZE: usize = 64;
   |       ^^^^^^^^^

warning: field `name` is never read
  --> kernel/src/ipc/fast_channel.rs:15:5
   |
10 | pub struct FastChannel {
   |            ----------- field in this struct
...
15 |     name: &'static str,
   |     ^^^^

warning: creating a shared reference to mutable static
  --> kernel/src/arch/x86_64/gdt.rs:17:59
   |
17 |             let stack_start = VirtAddr::from_ptr(unsafe { &STACK });
   |                                                           ^^^^^^ shared reference to mutable static
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>
   = note: shared references to mutable statics are dangerous; it's undefined behavior if the static is mutated or if a mutable reference is created for it while the shared reference lives
   = note: `#[warn(static_mut_refs)]` (part of `#[warn(rust_2024_compatibility)]`) on by default
help: use `&raw const` instead to create a raw pointer
   |
17 |             let stack_start = VirtAddr::from_ptr(unsafe { &raw const STACK });
   |                                                            +++++++++

warning: hiding a lifetime that's elided elsewhere is confusing
  --> kernel/src/libutils/sync/mutex.rs:29:21
   |
29 |     pub fn try_lock(&self) -> Option<MutexGuard<T>> {
   |                     ^^^^^            ^^^^^^^^^^^^^ the same lifetime is hidden here
   |                     |
   |                     the lifetime is elided here
   |
   = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
   = note: `#[warn(mismatched_lifetime_syntaxes)]` on by default
help: use `'_` for type paths
   |
29 |     pub fn try_lock(&self) -> Option<MutexGuard<'_, T>> {
   |                                                 +++

warning: hiding a lifetime that's elided elsewhere is confusing
  --> kernel/src/libutils/sync/mutex.rs:43:17
   |
43 |     pub fn lock(&self) -> MutexGuard<T> {
   |                 ^^^^^     ^^^^^^^^^^^^^ the same lifetime is hidden here
   |                 |
   |                 the lifetime is elided here
   |
   = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
help: use `'_` for type paths
   |
43 |     pub fn lock(&self) -> MutexGuard<'_, T> {
   |                                      +++

warning: `exo-kernel` (lib) generated 72 warnings (run `cargo fix --lib -p exo-kernel` to apply 46 suggestions)
    Finished `release` profile [optimized] target(s) in 53.16s
