exo-os/
│
├─── kernel/                                    # ═══════════════════════════════════════════════
│    │                                          # NOYAU MINIMAL HAUTE PERFORMANCE
│    │                                          # < 50K lignes Rust + ASM + C optimisés
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── Cargo.toml                            # Workspace kernel + dépendances
│    ├─── Cargo.lock                            # Lock file pour reproductibilité
│    ├─── rust-toolchain.toml                   # Version Rust exacte (nightly)
│    │
│    ├─── build.rs                              # ════════════════════════════════════
│    │                                          # BUILD SCRIPT INTELLIGENT
│    │                                          # • Compile ASM (boot.asm, windowed.S)
│    │                                          # • Compile C (drivers, FFI, boot.c)
│    │                                          # • Génère bindings Rust ↔ C
│    │                                          # • Link static libs
│    │                                          # • Target-specific compilation
│    │                                          # ════════════════════════════════════
│    │
│    ├─── linker-scripts/                       # ──── SCRIPTS LINKER ────
│    │    ├─── x86_64.ld                        # Linker x86_64
│    │    └─── common.ld                        # Sections communes
│    │
│    ├─── .cargo/
│    │    └─── config.toml                      # Config build per-target
│    │                                          # • x86_64-unknown-none
│    │
│    ├─── configs/                              # ──── CONFIGURATIONS ────
│    │    ├─── hardware/
│    │    │    ├─── x86_64.toml                 # Intel/AMD config
│    │    ├─── features/
│    │    │    ├─── performance.toml            # Profil performance max
│    │    │    ├─── security.toml               # Profil sécurité max
│    │    │    └─── balanced.toml               # Profil équilibré
│    │    └─── qemu.toml                        # Config émulation QEMU
│    │
│    └─── src/
│         │
│         ├─── main.rs                          # ═══════════════════════════════════════════════
│         │                                     # POINT D'ENTRÉE KERNEL
│         │                                     # • extern "C" fn rust_kernel_main()
│         │                                     # • Appelé depuis boot.c
│         │                                     # • Init séquence boot
│         │                                     # • < 200 lignes
│         │                                     # ═══════════════════════════════════════════════
│         │
│         ├─── lib.rs                           # Bibliothèque kernel
│         │                                     # • Exports publics
│         │                                     # • Prelude kernel
│         │                                     # • Re-exports modules
│         │
│         ├─── panic.rs                         # Panic handler no_std
│         │                                     # • Backtrace si debug
│         │                                     # • Halt CPU safe
│         │
│         ├─── logger.rs                        # Logger kernel minimal
│         │                                     # • Serial output
│         │                                     # • Niveaux: ERROR/WARN/INFO/DEBUG
│         │
│         ├─── boot/                            # ═══════════════════════════════════════════════
│         │    │                                # SÉQUENCE DE BOOT OPTIMISÉE
│         │    │                                # Objectif boot : < 300ms
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Orchestration boot
│         │    │                                # • boot_sequence()
│         │    │                                # • Phases: Critical/Normal/Deferred
│         │    │
│         │    ├─── multiboot2.rs               # Parser Multiboot2
│         │    │                                # • Validation magic
│         │    │                                # • Parse memory map
│         │    │                                # • Parse modules
│         │    │
│         │    ├─── phases.rs                   # Boot phases
│         │    │                                # • CRITICAL: Memory, GDT, IDT (<50ms)
│         │    │                                # • NORMAL: Scheduler, IPC (<100ms)
│         │    │                                # • DEFERRED: Drivers, IA (lazy)
│         │    │
│         │    ├─── early_init.rs               # Init ultra-précoce
│         │    │                                # • GDT setup
│         │    │                                # • IDT setup
│         │    │                                # • Memory detection
│         │    │                                # • Serial init (debug)
│         │    │
│         │    ├─── late_init.rs                # Init tardive
│         │    │                                # • Scheduler init
│         │    │                                # • IPC init
│         │    │                                # • Driver discovery
│         │    │
│         │    └─── recovery.rs                 # Boot recovery mode
│         │                                     # • Safe mode boot
│         │                                     # • Diagnostic shell
│         │
│         ├─── arch/                            # ═══════════════════════════════════════════════
│         │    │                                # ABSTRACTION ARCHITECTURE
│         │    │                                # Support: x86_64, ARM64, RISC-V
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Trait Architecture
│         │    │                                # • pub trait Arch
│         │    │                                # • init(), cpu_count(), etc.
│         │    │
│         │    ├─── x86_64/                     # ─────────────────────────────────────────
│         │    │    │                           # INTEL/AMD 64-BIT
│         │    │    │                           # Architecture dominante desktop/server
│         │    │    │                           # ─────────────────────────────────────────
│         │    │    ├─── mod.rs                 # Interface x86_64
│         │    │    │
│         │    │    ├─── boot/                  # • BOOTSTRAP •
│         │    │    │    ├─── boot.asm          # Bootstrap 32→64 bit
│         │    │    │    │                      # • Multiboot2 header
│         │    │    │    │                      # • Page tables init
│         │    │    │    │                      # • Long mode activation
│         │    │    │    │                      # • Setup stack
│         │    │    │    │                      # • Call boot_main
│         │    │    │    │
│         │    │    │    ├─── boot.c            # ════════════════════════════════
│         │    │    │    │                      # PONT C → RUST
│         │    │    │    │                      # • Appelé depuis boot.asm
│         │    │    │    │                      # • Init matériel basique
│         │    │    │    │                      # • Serial port (debug précoce)
│         │    │    │    │                      # • BIOS/UEFI detection
│         │    │    │    │                      # • Call rust_kernel_main()
│         │    │    │    │                      # ════════════════════════════════
│         │    │    │    │
│         │    │    │    └─── trampoline.asm    # Trampoline SMP
│         │    │    │                           # • Pour boot autres CPUs
│         │    │    │
│         │    │    ├─── cpu/                   # • CPU MANAGEMENT •
│         │    │    │    ├─── mod.rs            # CPU abstraction
│         │    │    │    ├─── cpuid.rs          # CPUID features
│         │    │    │    │                      # • Detect SSE/AVX/AVX512
│         │    │    │    │                      # • Cache sizes
│         │    │    │    │                      # • Core/thread count
│         │    │    │    ├─── msr.rs            # Model-Specific Registers
│         │    │    │    │                      # • RDMSR/WRMSR wrappers
│         │    │    │    │                      # • IA32_EFER, IA32_STAR, etc.
│         │    │    │    ├─── features.rs       # Feature detection
│         │    │    │    │                      # • has_sse4(), has_avx()
│         │    │    │    │                      # • Feature flags cache
│         │    │    │    ├─── topology.rs       # CPU topology
│         │    │    │    │                      # • NUMA nodes
│         │    │    │    │                      # • Core/package layout
│         │    │    │    │                      # • Cache hierarchy
│         │    │    │    ├─── smp.rs            # Symmetric Multi-Processing
│         │    │    │    │                      # • Boot AP processors
│         │    │    │    │                      # • IPI (Inter-Processor Interrupt)
│         │    │    │    └─── power.rs          # Power management
│         │    │    │                           # • C-states, P-states
│         │    │    │                           # • Turbo boost control
│         │    │    │
│         │    │    ├─── memory/                # • MEMORY MANAGEMENT •
│         │    │    │    ├─── mod.rs            # Memory x86_64
│         │    │    │    ├─── paging.rs         # 4-level page tables
│         │    │    │    │                      # • PML4/PDP/PD/PT
│         │    │    │    │                      # • 4KB/2MB/1GB pages
│         │    │    │    │                      # • NX bit enforcement
│         │    │    │    ├─── tlb.rs            # TLB management
│         │    │    │    │                      # • invlpg optimization
│         │    │    │    │                      # • PCID support
│         │    │    │    │                      # • Flush minimization
│         │    │    │    ├─── pat.rs            # Page Attribute Table
│         │    │    │    │                      # • WB/WT/UC/WC modes
│         │    │    │    │                      # • MMIO optimization
│         │    │    │    └─── numa.rs           # NUMA support
│         │    │    │                           # • Node-aware allocation
│         │    │    │                           # • Affinity hints
│         │    │    │
│         │    │    ├─── interrupts/            # • INTERRUPTS •
│         │    │    │    ├─── mod.rs            # Interrupt framework
│         │    │    │    ├─── idt.rs            # Interrupt Descriptor Table
│         │    │    │    │                      # • 256 entries
│         │    │    │    │                      # • IST support (7 stacks)
│         │    │    │    ├─── handlers.rs       # Exception handlers
│         │    │    │    │                      # • #DF (Double Fault)
│         │    │    │    │                      # • #PF (Page Fault)
│         │    │    │    │                      # • #GP (General Protection)
│         │    │    │    ├─── apic.rs           # Advanced PIC (local)
│         │    │    │    │                      # • x2APIC mode
│         │    │    │    │                      # • Timer programming
│         │    │    │    ├─── ioapic.rs         # I/O APIC
│         │    │    │    │                      # • IRQ routing
│         │    │    │    │                      # • MSI/MSI-X
│         │    │    │    └─── pic.rs            # Legacy 8259 PIC
│         │    │    │                           # • Fallback only
│         │    │    │
│         │    │    ├─── gdt.rs                 # Global Descriptor Table
│         │    │    │                           # • Code/Data segments
│         │    │    │                           # • TSS segment
│         │    │    ├─── tss.rs                 # Task State Segment
│         │    │    │                           # • IST stacks
│         │    │    │                           # • RSP0 (kernel stack)
│         │    │    ├─── syscall.rs             # Syscall entry
│         │    │    │                           # • SYSCALL/SYSRET
│         │    │    │                           # • Fast path < 50 cycles
│         │    │    ├─── context.rs             # Context save/restore
│         │    │    │                           # • Windowed context switch
│         │    │    │                           # • Callee-saved only
│         │    │    ├─── registers.rs           # Register definitions
│         │    │    │                           # • RAX-R15, RIP, RFLAGS
│         │    │    │                           # • CR0-CR4, DR0-DR7
│         │    │    └─── simd.rs                # SIMD save/restore
│         │    │                                # • FXSAVE/FXRSTOR
│         │    │                                # • XSAVE/XRSTOR (AVX)
│         │    │                                # • Lazy FPU
│         │    │
│         ├─── c_compat/                        # ═══════════════════════════════════════════════
│         │    │                                # COUCHE COMPATIBILITÉ C (FFI)
│         │    │                                # Bridge sûr Rust ↔ C
│         │    │                                # ═══════════════════════════════════════════════
│         │    │
│         │    ├─── mod.rs                      # Déclarations externes C
│         │    │                                # • extern "C" declarations
│         │    │                                # • Safe Rust wrappers
│         │    │                                # • Type conversions
│         │    │
│         │    ├─── serial.c                    # ════════════════════════════════
│         │    │                                # PILOTE SÉRIE (DEBUG PRÉCOCE)
│         │    │                                # • Init COM1 (0x3F8)
│         │    │                                # • Fonctions: serial_init()
│         │    │                                # •            serial_putc()
│         │    │                                # •            serial_puts()
│         │    │                                # • Critical pour boot debug
│         │    │                                # ════════════════════════════════
│         │    │
│         │    ├─── pci.c                       # ════════════════════════════════
│         │    │                                # PILOTE PCI BASIQUE
│         │    │                                # • PCI config space access
│         │    │                                # • Device enumeration
│         │    │                                # • Fonctions: pci_read_config()
│         │    │                                # •            pci_write_config()
│         │    │                                # •            pci_enumerate()
│         │    │                                # ════════════════════════════════
│         │    │
│         │    ├─── vga.c                       # Pilote VGA text mode
│         │    │                                # • 80x25 text
│         │    │                                # • Color support
│         │    │
│         │    ├─── keyboard.c                  # Pilote clavier PS/2
│         │    │                                # • Scancode handling
│         │    │                                # • Interrupt-driven
│         │    │
│         │    └─── acpi.c                      # ACPI basique
│         │                                     # • RSDP detection
│         │                                     # • Table parsing
│         │
│         ├─── ffi/                             # ═══════════════════════════════════════════════
│         │    │                                # FFI UTILITIES
│         │    │                                # Wrappers sûrs pour interop C
│         │    │                                # ═══════════════════════════════════════════════
│         │    │
│         │    ├─── mod.rs                      # FFI exports
│         │    │
│         │    ├─── c_str.rs                    # ════════════════════════════════
│         │    │                                # GESTION CHAÎNES C
│         │    │                                # • CStr, CString safe wrappers
│         │    │                                # • Null-terminated strings
│         │    │                                # • Conversion Rust ↔ C
│         │    │                                # ════════════════════════════════
│         │    │
│         │    ├─── va_list.rs                  # ════════════════════════════════
│         │    │                                # VARIADIC ARGUMENTS
│         │    │                                # • Support printf-like
│         │    │                                # • Safe va_list access
│         │    │                                # ════════════════════════════════
│         │    │
│         │    ├─── types.rs                    # Type aliases C ↔ Rust
│         │    │                                # • c_int, c_uint, c_void
│         │    │                                # • Platform-specific
│         │    │
│         │    ├─── bindings.rs                 # Auto-generated bindings
│         │    │                                # • Via bindgen (build.rs)
│         │    │                                # • C headers → Rust
│         │    │
│         │    └─── callbacks.rs                # Callback infrastructure
│         │                                     # • C callbacks from Rust
│         │                                     # • Safe function pointers
│         │
│         ├─── posix_x/                         # ═══════════════════════════════════════════════
│         │    │                                # POSIX-X COMPATIBILITY LAYER
│         │    │                                # Couche de compatibilité intelligente
│         │    │                                # POSIX → Exo-OS Native
│         │    │                                # ═══════════════════════════════════════════════
│         │    │
│         │    ├─── mod.rs                      # Interface POSIX-X
│         │    │                                # • pub use syscalls::*;
│         │    │                                # • pub use libc_impl::*;
│         │    │
│         │    ├─── README.md                   # ════════════════════════════════
│         │    │                                # DOCUMENTATION POSIX-X
│         │    │                                # • Architecture 3 niveaux
│         │    │                                # • Fast/Hybrid/Legacy paths
│         │    │                                # • Performance metrics
│         │    │                                # • Migration guide
│         │    │                                # ════════════════════════════════
│         │    │
│         │    ├─── core/                       # ──── CORE POSIX-X ────
│         │    │    │
│         │    │    ├─── mod.rs                 # Core infrastructure
│         │    │    │
│         │    │    ├─── config.rs              # Configuration POSIX-X
│         │    │    │                           # • CompatibilityMode enum
│         │    │    │                           # • Enable/disable features
│         │    │    │                           # • Performance tuning
│         │    │    │
│         │    │    ├─── compatibility.rs       # Compatibility layer manager
│         │    │    │                           # • Route syscalls to paths
│         │    │    │                           # • Statistics collection
│         │    │    │                           # • Dynamic optimization
│         │    │    │
│         │    │    └─── init.rs                # Init POSIX-X
│         │    │                                # • Setup FD table
│         │    │                                # • Init caches
│         │    │                                # • Register handlers
│         │    │
│         │    ├─── syscalls/                   # ──── SYSCALLS POSIX ────
│         │    │    │
│         │    │    ├─── mod.rs                 # Syscall dispatcher
│         │    │    │
│         │    │    ├─── fast_path/             # • FAST PATH •
│         │    │    │    ├─── mod.rs            # Fast syscalls
│         │    │    │    ├─── process.rs        # getpid, gettid
│         │    │    │    │                      # • < 50 cycles
│         │    │    │    │                      # • Direct mapping
│         │    │    │    ├─── time.rs           # clock_gettime
│         │    │    │    │                      # • ~100 cycles
│         │    │    │    └─── info.rs           # uname, sysinfo
│         │    │    │
│         │    │    ├─── hybrid_path/           # • HYBRID PATH •
│         │    │    │    ├─── mod.rs            # Hybrid syscalls
│         │    │    │    │
│         │    │    │    ├─── io.rs             # ════════════════════════════════
│         │    │    │    │                      # I/O SYSCALLS OPTIMISÉS
│         │    │    │    │                      # • open/close (capability cache)
│         │    │    │    │                      # • read/write (inline + zerocopy)
│         │    │    │    │                      # • pipe → Fusion Ring
│         │    │    │    │                      # • Performance: 400-1000 cycles
│         │    │    │    │                      # ════════════════════════════════
│         │    │    │    │
│         │    │    │    ├─── memory.rs         # mmap, munmap
│         │    │    │    │                      # • Shared memory pool
│         │    │    │    │                      # • ~800 cycles
│         │    │    │    │
│         │    │    │    ├─── socket.rs         # socket, bind, listen
│         │    │    │    │                      # • Network via IPC
│         │    │    │    │
│         │    │    │    └─── signals.rs        # ════════════════════════════════
│         │    │    │                           # SIGNAUX → MESSAGES IPC
│         │    │    │                           # • kill → send_message
│         │    │    │                           # • signal → register handler
│         │    │    │                           # • Daemon thread listener
│         │    │    │                           # ════════════════════════════════
│         │    │    │
│         │    │    └─── legacy_path/           # • LEGACY PATH •
│         │    │         ├─── mod.rs            # Legacy emulation
│         │    │         │
│         │    │         ├─── fork.rs           # ════════════════════════════════
│         │    │         │                      # FORK ÉMULATION
│         │    │         │                      # • Clone process
│         │    │         │                      # • COW memory
│         │    │         │                      # • Clone FD table
│         │    │         │                      # • ~50,000 cycles (lent)
│         │    │         │                      # ════════════════════════════════
│         │    │         │
│         │    │         ├─── exec.rs           # execve émulation
│         │    │         │                      # • Load ELF
│         │    │         │                      # • Setup stack/env
│         │    │         │
│         │    │         └─── sysv_ipc.rs       # SysV IPC legacy
│         │    │                                # • shmget, semget
│         │    │                                # • msgget, msgrcv
│         │    │
│         │    ├─── libc_impl/                  # ──── LIBC IMPLEMENTATION ────
│         │    │    │
│         │    │    ├─── mod.rs                 # Libc exports
│         │    │    │
│         │    │    ├─── musl_adapted/          # ════════════════════════════════
│         │    │    │    │                      # MUSL LIBC ADAPTÉE
│         │    │    │    │                      # Base: musl 1.2.x
│         │    │    │    │                      # Adapté pour Exo-OS syscalls
│         │    │    │    │                      # ~80% réutilisation code
│         │    │    │    │                      # ════════════════════════════════
│         │    │    │    ├─── stdio.c           # printf, scanf, etc.
│         │    │    │    ├─── string.c          # memcpy, strcmp, etc.
│         │    │    │    ├─── stdlib.c          # malloc, free (→ heap Exo-OS)
│         │    │    │    ├─── unistd.c          # POSIX syscalls wrappers
│         │    │    │    ├─── pthread.c         # Threads (→ Exo-OS threads)
│         │    │    │    └─── errno.c           # Error handling
│         │    │    │
│         │    │    ├─── allocator.rs           # Allocator bridge
│         │    │    │                           # • malloc → ExoAlloc
│         │    │    │                           # • free → ExoAlloc
│         │    │    │
│         │    │    └─── thread_local.rs        # TLS support
│         │    │                                # • __thread variables
│         │    │                                # • pthread_key_*
│         │    │
│         │    ├─── translation/                # ──── TRANSLATION LAYER ────
│         │    │    │
│         │    │    ├─── mod.rs                 # Translation utilities
│         │    │    │
│         │    │    ├─── fd_to_cap.rs           # ════════════════════════════════
│         │    │    │                           # FD → CAPABILITIES
│         │    │    │                           # • FdTable global
│         │    │    │                           # • FD allocation/deallocation
│         │    │    │                           # • Capability mapping
│         │    │    │                           # • stdin/stdout/stderr setup
│         │    │    │                           # ════════════════════════════════
│         │    │    │
│         │    │    ├─── perms_to_rights.rs     # Permissions → Rights
│         │    │    │                           # • mode_t → Rights
│         │    │    │                           # • O_RDWR → READ|WRITE
│         │    │    │
│         │    │    ├─── signals_to_msgs.rs     # Signaux → Messages
│         │    │    │                           # • SIGINT → Message::Interrupt
│         │    │    │                           # • SIGTERM → Message::Terminate
│         │    │    │
│         │    │    └─── errno.rs               # Errno handling
│         │    │                                # • Exo errors → POSIX errno
│         │    │                                # • thread-local errno
│         │    │
│         │    ├─── optimization/               # ──── OPTIMIZATIONS ────
│         │    │    │
│         │    │    ├─── mod.rs                 # Optimization framework
│         │    │    │
│         │    │    ├─── adaptive.rs            # ════════════════════════════════
│         │    │    │                           # ADAPTIVE OPTIMIZER
│         │    │    │                           # • Collect statistics
│         │    │    │                           # • Detect patterns
│         │    │    │                           # • Auto-optimize paths
│         │    │    │                           # • Learning mode
│         │    │    │                           # ════════════════════════════════
│         │    │    │
│         │    │    ├─── zerocopy.rs            # ════════════════════════════════
│         │    │    │                           # ZERO-COPY DETECTION
│         │    │    │                           # • Passthrough pattern
│         │    │    │                           # • read→write chaining
│         │    │    │                           # • Splice-like optimization
│         │    │    │                           # • Automatic shared memory
│         │    │    │                           # ════════════════════════════════
│         │    │    │
│         │    │    ├─── batching.rs            # Batching optimizer
│         │    │    │                           # • Buffer multiple writes
│         │    │    │                           # • 1 fence for N ops
│         │    │    │                           # • 131 cycles/msg amortized
│         │    │    │
│         │    │    ├─── cache.rs               # ════════════════════════════════
│         │    │    │                           # CAPABILITY CACHE
│         │    │    │                           # • LRU cache (path→cap)
│         │    │    │                           # • Prefetch predictor
│         │    │    │                           # • 50 cycles (hit) vs 2000 (miss)
│         │    │    │                           # • 90%+ hit rate target
│         │    │    │                           # ════════════════════════════════
│         │    │    │
│         │    │    └─── statistics.rs          # Stats collection
│         │    │                                # • Per-syscall metrics
│         │    │                                # • Call count, latency
│         │    │                                # • Path distribution
│         │    │                                # • Export for profiler
│         │    │
│         │    ├─── tools/                      # ──── DEVELOPMENT TOOLS ────
│         │    │    │
│         │    │    ├─── profiler.rs            # ════════════════════════════════
│         │    │    │                           # POSIX-X PROFILER
│         │    │    │                           # • Trace syscalls
│         │    │    │                           # • Measure cycles
│         │    │    │                           # • Generate reports
│         │    │    │                           # • Optimization suggestions
│         │    │    │                           # ════════════════════════════════
│         │    │    │
│         │    │    ├─── analyzer.rs            # Binary analyzer
│         │    │    │                           # • Scan ELF for POSIX usage
│         │    │    │                           # • Compatibility score
│         │    │    │                           # • Migration recommendations
│         │    │    │
│         │    │    ├─── migrator.rs            # Migration assistant
│         │    │    │                           # • Auto-generate patches
│         │    │    │                           # • POSIX → Native API
│         │    │    │                           # • Code transformation
│         │    │    │
│         │    │    └─── benchmark.rs           # Benchmarking suite
│         │    │                                # • Compare vs Linux
│         │    │                                # • Measure overhead
│         │    │                                # • Performance regression tests
│         │    │
│         │    ├─── compat/                     # ──── COMPATIBILITY HELPERS ────
│         │    │    │
│         │    │    ├─── mod.rs                 # Compat utilities
│         │    │    │
│         │    │    ├─── filesystem.rs          # FS namespace compat
│         │    │    │                           # • /dev, /proc, /sys emulation
│         │    │    │                           # • VFS layer
│         │    │    │
│         │    │    ├─── env.rs                 # Environment variables
│         │    │    │                           # • getenv, setenv
│         │    │    │                           # • environ handling
│         │    │    │
│         │    │    ├─── users.rs               # User/Group emulation
│         │    │    │                           # • uid/gid → capabilities
│         │    │    │                           # • passwd/group parsing
│         │    │    │
│         │    │    └─── terminal.rs            # Terminal emulation
│         │    │                                # • ioctl support
│         │    │                                # • termios
│         │    │
│         │    └─── tests/                      # ──── TESTS ────
│         │         ├─── syscall_tests.rs       # Test syscalls POSIX
│         │         ├─── compat_tests.rs        # Test compatibilité
│         │         ├─── perf_tests.rs          # Tests performance
│         │         └─── integration_tests.rs   # Tests intégration
│         │
│         ├─── memory/                          # ═══════════════════════════════════════════════
│         │    │                                # GESTION MÉMOIRE HAUTE PERF
│         │    │                                # Objectif : Alloc < 10 cycles
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Interface mémoire
│         │    ├─── physical/                   # ──── MÉMOIRE PHYSIQUE ────
│         │    │    ├─── mod.rs
│         │    │    ├─── bitmap_allocator.rs    # Allocateur bitmap
│         │    │    ├─── buddy_allocator.rs     # Buddy allocator
│         │    │    ├─── frame.rs               # Frame definition
│         │    │    ├─── zone.rs                # Memory zones (DMA/Normal/High)
│         │    │    └─── numa.rs                # NUMA-aware allocation
│         │    │
│         │    ├─── virtual/                    # ──── MÉMOIRE VIRTUELLE ────
│         │    │    ├─── mod.rs
│         │    │    ├─── page_table.rs          # Page table ops
│         │    │    ├─── mapper.rs              # Virtual→Physical mapping
│         │    │    ├─── address_space.rs       # Address space per process
│         │    │    └─── cow.rs                 # Copy-on-Write
│         │    │
│         │    ├─── heap/                       # ──── HEAP KERNEL ────
│         │    │    ├─── mod.rs
│         │    │    ├─── hybrid_allocator.rs    # Allocateur 3 niveaux
│         │    │    ├─── thread_cache.rs        # Cache per-thread (8 cycles!)
│         │    │    ├─── cpu_slab.rs            # Slab per-CPU
│         │    │    ├─── slab.rs                # Slab allocator core
│         │    │    ├─── size_class.rs          # Size classes
│         │    │    └─── statistics.rs          # Stats allocation
│         │    │
│         │    ├─── shared/                     # ──── SHARED MEMORY ────
│         │    │    ├─── mod.rs
│         │    │    ├─── pool.rs                # Pool de pages partagées
│         │    │    ├─── descriptor.rs          # Shared memory descriptors
│         │    │    └─── permissions.rs         # RO/RW permissions
│         │    │
│         │    ├─── cache.rs                    # Cache management
│         │    ├─── dma.rs                      # DMA allocations
│         │    ├─── mmap.rs                     # Memory mapping syscall
│         │    └─── protection.rs               # Memory protection (NX, ASLR)
│         │
│         ├─── scheduler/                       # ═══════════════════════════════════════════════
│         │    │                                # ORDONNANCEUR PRÉDICTIF
│         │    │                                # Objectif : Pick < 100 cycles
│         │    │                                # Context switch < 350 cycles
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Interface scheduler
│         │    │
│         │    ├─── core/                       # ──── CORE SCHEDULER ────
│         │    │    ├─── mod.rs
│         │    │    ├─── predictive.rs          # Predictive scheduler O(1)
│         │    │    │                           # • 3 queues (hot/normal/cold)
│         │    │    │                           # • EMA prediction
│         │    │    │                           # • Pick = 87 cycles avg
│         │    │    ├─── runqueue.rs            # Run queues per-CPU
│         │    │    ├─── affinity.rs            # CPU affinity tracking
│         │    │    ├─── load_balancing.rs      # Load balancing (cold only)
│         │    │    └─── statistics.rs          # Stats scheduling
│         │    │
│         │    ├─── thread/                     # ──── THREADS ────
│         │    │    ├─── mod.rs
│         │    │    ├─── windowed_thread.rs     # Thread avec register windows
│         │    │    │                           # • Context = 16 bytes!
│         │    │    ├─── context.rs             # Context (RSP + RIP)
│         │    │    ├─── stack.rs               # Stack allocation
│         │    │    ├─── state.rs               # Thread states
│         │    │    ├─── priority.rs            # Priority management
│         │    │    └─── local_storage.rs       # Thread-local storage
│         │    │
│         │    ├─── switch/                     # ──── CONTEXT SWITCH ────
│         │    │    ├─── mod.rs
│         │    │    ├─── windowed.S             # Windowed switch (ASM)
│         │    │    │                           # • 2 MOV + 1 JMP!
│         │    │    │                           # • 304 cycles avg
│         │    │    ├─── fpu.rs                 # Lazy FPU save/restore
│         │    │    ├─── simd.rs                # SIMD state management
│         │    │    └─── benchmark.rs           # Benchmarks context switch
│         │    │
│         │    ├─── prediction/                 # ──── PRÉDICTION ────
│         │    │    ├─── mod.rs
│         │    │    ├─── ema.rs                 # Exponential Moving Average
│         │    │    ├─── history.rs             # Historique exécutions
│         │    │    └─── heuristics.rs          # Heuristiques
│         │    │
│         │    ├─── realtime/                   # ──── TEMPS RÉEL ────
│         │    │    ├─── mod.rs
│         │    │    ├─── deadline.rs            # Deadline scheduling
│         │    │    ├─── priorities.rs          # RT priorities (0-99)
│         │    │    └─── latency.rs             # Latency tracking
│         │    │
│         │    └─── idle.rs                     # Idle thread management
│         │
│         ├─── ipc/                             # ═══════════════════════════════════════════════
│         │    │                                # IPC ZERO-COPY FUSION
│         │    │                                # Objectif : < 400 cycles
│         │    │                                # CLEF DE PERFORMANCE
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Interface IPC
│         │    │
│         │    ├─── fusion_ring/                # ──── FUSION RINGS ────
│         │    │    │                           # RÉVOLUTIONNAIRE
│         │    │    │                           # 347 cycles (vs 1247 Linux)
│         │    │    ├─── mod.rs
│         │    │    ├─── ring.rs                # Structure ring lock-free
│         │    │    │                           # • 4096 slots (power of 2)
│         │    │    │                           # • Head/tail atomics
│         │    │    │                           # • Cache-line aligned
│         │    │    ├─── slot.rs                # Slot 64 bytes (1 cache line)
│         │    │    │                           # • AtomicU64 seq
│         │    │    │                           # • 56 bytes payload
│         │    │    ├─── inline.rs              # Fast path (≤56B)
│         │    │    │                           # • ~350 cycles
│         │    │    ├─── zerocopy.rs            # Zero-copy path (>56B)
│         │    │    │                           # • ~800 cycles, 0 copies!
│         │    │    ├─── batch.rs               # Batch processing
│         │    │    │                           # • 131 cycles/msg amortized
│         │    │    └─── sync.rs                # Synchronisation lock-free
│         │    │
│         │    ├─── shared_memory/              # ──── SHARED MEMORY ────
│         │    │    ├─── mod.rs
│         │    │    ├─── pool.rs                # Pool global
│         │    │    ├─── page.rs                # Shared page
│         │    │    └─── mapping.rs             # Mapping management
│         │    │
│         │    ├─── channel/                    # ──── CHANNELS ────
│         │    │    ├─── mod.rs
│         │    │    ├─── typed.rs               # Typed channels (Channel<T>)
│         │    │    ├─── async.rs               # Async channels
│         │    │    └─── broadcast.rs           # Broadcast channels (1→N)
│         │    │
│         │    ├─── message.rs                  # Message structure
│         │    ├─── descriptor.rs               # Descripteurs IPC
│         │    ├─── capability.rs               # Capabilities IPC
│         │    └─── benchmark.rs                # Benchmarks IPC
│         │
│         ├─── syscall/                         # ═══════════════════════════════════════════════
│         │    │                                # SYSCALLS ULTRA-RAPIDES
│         │    │                                # Objectif : < 50 cycles (simple)
│         │    │                                # < 700 cycles (I/O)
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Interface syscall
│         │    │
│         │    ├─── entry/                      # ──── ENTRÉE SYSCALL ────
│         │    │    ├─── mod.rs
│         │    │    ├─── fast_path.rs           # Fast path (< 50 cycles)
│         │    │    ├─── slow_path.rs           # Slow path (< 700 cycles)
│         │    │    └─── validation.rs          # Validation arguments
│         │    │
│         │    ├─── handlers/                   # ──── HANDLERS ────
│         │    │    ├─── mod.rs                 # Dispatch table (256 syscalls)
│         │    │    ├─── process.rs             # Process syscalls
│         │    │    ├─── memory.rs              # Memory syscalls
│         │    │    ├─── io.rs                  # I/O syscalls (zero-copy)
│         │    │    ├─── ipc.rs                 # IPC syscalls (fast path)
│         │    │    ├─── time.rs                # Time syscalls
│         │    │    └─── security.rs            # Security syscalls
│         │    │
│         │    ├─── numbers.rs                  # Numéros syscalls (ABI stable)
│         │    ├─── abi.rs                      # ABI definition
│         │    └─── benchmark.rs                # Benchmarks syscalls
│         │
│         ├─── security/                        # ═══════════════════════════════════════════════
│         │    │                                # SÉCURITÉ NATIVE INTÉGRÉE
│         │    │                                # TPM/HSM/Capabilities/PostQuantum
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Security framework
│         │    │
│         │    ├─── capability/                 # ──── CAPABILITIES ────
│         │    │    ├─── mod.rs                 # Capability system
│         │    │    ├─── token.rs               # Capability tokens (unforgeable)
│         │    │    ├─── rights.rs              # Rights definition
│         │    │    ├─── transfer.rs            # Capability transfer
│         │    │    └─── revoke.rs              # Revocation
│         │    │
│         │    ├─── tpm/                        # ──── TPM 2.0 ────
│         │    │    ├─── mod.rs                 # TPM interface
│         │    │    ├─── commands.rs            # TPM commands
│         │    │    ├─── attestation.rs         # Remote attestation
│         │    │    ├─── pcr.rs                 # Platform Config Registers
│         │    │    ├─── keys.rs                # Key management
│         │    │    └─── seal.rs                # Sealed storage
│         │    │
│         │    ├─── hsm/                        # ──── HSM ────
│         │    │    ├─── mod.rs                 # HSM interface
│         │    │    ├─── provider.rs            # HSM provider abstraction
│         │    │    ├─── crypto.rs              # Crypto operations
│         │    │    └─── keys.rs                # Key storage
│         │    │
│         │    ├─── crypto/                     # ──── CRYPTOGRAPHIE ────
│         │    │    ├─── mod.rs
│         │    │    ├─── post_quantum/          # Crypto post-quantique
│         │    │    │    ├─── mod.rs
│         │    │    │    ├─── kyber.rs          # Kyber KEM (NIST)
│         │    │    │    └─── dilithium.rs      # Dilithium signatures (NIST)
│         │    │    ├─── chacha20.rs            # XChaCha20-Poly1305 (AEAD)
│         │    │    ├─── blake3.rs              # BLAKE3 hash
│         │    │    └─── random.rs              # CSPRNG (hardware RNG)
│         │    │
│         │    ├─── isolation/                  # ──── ISOLATION ────
│         │    │    ├─── mod.rs
│         │    │    ├─── sandbox.rs             # Sandboxing
│         │    │    ├─── seccomp.rs             # Syscall filtering
│         │    │    └─── namespaces.rs          # Isolation namespaces
│         │    │
│         │    └─── audit/                      # ──── AUDIT ────
│         │         ├─── mod.rs
│         │         ├─── logger.rs              # Security event logging
│         │         └─── analyzer.rs            # Behavioral analysis
│         │
│         ├─── drivers/                         # ═══════════════════════════════════════════════
│         │    │                                # DRIVERS KERNEL
│         │    │                                # Mix Rust + C legacy
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Driver framework
│         │    │
│         │    ├─── char/                       # Character devices
│         │    │    ├─── mod.rs
│         │    │    ├─── serial.rs              # Serial port (wrapper Rust)
│         │    │    ├─── console.rs             # Console
│         │    │    └─── null.rs                # /dev/null, /dev/zero
│         │    │
│         │    ├─── block/                      # Block devices
│         │    │    ├─── mod.rs
│         │    │    ├─── ahci.rs                # AHCI/SATA
│         │    │    ├─── nvme.rs                # NVMe
│         │    │    └─── ramdisk.rs             # RAM disk
│         │    │
│         │    ├─── net/                        # Network devices
│         │    │    ├─── mod.rs
│         │    │    ├─── e1000.rs               # Intel E1000 (C wrapper)
│         │    │    ├─── rtl8139.rs             # Realtek (C wrapper)
│         │    │    └─── virtio_net.rs          # VirtIO network
│         │    │
│         │    ├─── pci/                        # PCI subsystem
│         │    │    ├─── mod.rs                 # PCI Rust wrapper
│         │    │    ├─── config.rs              # Config space
│         │    │    ├─── enumeration.rs         # Device enumeration
│         │    │    └─── msi.rs                 # MSI/MSI-X
│         │    │
│         │    ├─── usb/                        # USB subsystem
│         │    │    ├─── mod.rs
│         │    │    ├─── xhci.rs                # xHCI controller
│         │    │    └─── hub.rs                 # USB hub
│         │    │
│         │    ├─── video/                      # Video drivers
│         │    │    ├─── mod.rs
│         │    │    ├─── vga.rs                 # VGA text (C wrapper)
│         │    │    ├─── framebuffer.rs         # Framebuffer
│         │    │    └─── virtio_gpu.rs          # VirtIO GPU
│         │    │
│         │    └─── input/                      # Input devices
│         │         ├─── mod.rs
│         │         ├─── keyboard.rs            # PS/2 keyboard (C wrapper)
│         │         ├─── mouse.rs               # PS/2 mouse
│         │         └─── hid.rs                 # HID devices
│         │
│         ├─── fs/                              # ═══════════════════════════════════════════════
│         │    │                                # FILESYSTEM SUBSYSTEM
│         │    │                                # VFS + filesystems
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # VFS interface
│         │    │
│         │    ├─── vfs/                        # ──── VFS LAYER ────
│         │    │    ├─── mod.rs
│         │    │    ├─── inode.rs               # Inode abstraction
│         │    │    ├─── dentry.rs              # Directory entry cache
│         │    │    ├─── mount.rs               # Mount management
│         │    │    └─── cache.rs               # Page cache
│         │    │
│         │    ├─── ext4/                       # Ext4 filesystem
│         │    │    ├─── mod.rs
│         │    │    ├─── super.rs               # Superblock
│         │    │    ├─── inode.rs               # Inode operations
│         │    │    └─── extent.rs              # Extent tree
│         │    │
│         │    ├─── fat32/                      # FAT32 filesystem
│         │    │    └─── mod.rs
│         │    │
│         │    ├─── tmpfs/                      # Temporary filesystem (RAM)
│         │    │    └─── mod.rs
│         │    │
│         │    ├─── devfs/                      # Device filesystem
│         │    │    └─── mod.rs
│         │    │
│         │    ├─── procfs/                     # /proc filesystem
│         │    │    └─── mod.rs
│         │    │
│         │    └─── sysfs/                      # /sys filesystem
│         │         └─── mod.rs
│         │
│         ├─── net/                             # ═══════════════════════════════════════════════
│         │    │                                # NETWORK STACK
│         │    │                                # TCP/IP optimisé
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Network interface
│         │    │
│         │    ├─── core/                       # ──── CORE NETWORKING ────
│         │    │    ├─── mod.rs
│         │    │    ├─── socket.rs              # Socket abstraction
│         │    │    ├─── buffer.rs              # Packet buffers (zero-copy)
│         │    │    └─── device.rs              # Network device abstraction
│         │    │
│         │    ├─── ethernet/                   # Ethernet layer
│         │    │    └─── mod.rs
│         │    │
│         │    ├─── ip/                         # IP layer
│         │    │    ├─── mod.rs
│         │    │    ├─── ipv4.rs                # IPv4
│         │    │    ├─── ipv6.rs                # IPv6
│         │    │    └─── routing.rs             # Routing table
│         │    │
│         │    ├─── tcp/                        # TCP layer
│         │    │    ├─── mod.rs
│         │    │    ├─── connection.rs          # TCP connection
│         │    │    ├─── congestion.rs          # Congestion control
│         │    │    └─── retransmit.rs          # Retransmission
│         │    │
│         │    ├─── udp/                        # UDP layer
│         │    │    └─── mod.rs
│         │    │
│         │    └─── wireguard/                  # ──── WIREGUARD INTÉGRÉ ────
│         │         ├─── mod.rs                 # WireGuard VPN
│         │         ├─── crypto.rs              # Crypto (Noise protocol)
│         │         ├─── handshake.rs           # Handshake
│         │         └─── tunnel.rs              # Tunnel management
│         │
│         ├─── time/                            # ═══════════════════════════════════════════════
│         │    │                                # TIME MANAGEMENT
│         │    │                                # High-resolution timers
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Time interface
│         │    ├─── clock.rs                    # Clock sources
│         │    ├─── timer.rs                    # Timer management
│         │    ├─── hpet.rs                     # HPET (High Precision Timer)
│         │    ├─── tsc.rs                      # TSC (Time Stamp Counter)
│         │    └─── rtc.rs                      # RTC (Real-Time Clock)
│         │
│         ├─── sync/                            # ═══════════════════════════════════════════════
│         │    │                                # SYNCHRONIZATION PRIMITIVES
│         │    │                                # Lock-free où possible
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Sync exports
│         │    ├─── spinlock.rs                 # Spinlock (last resort)
│         │    ├─── mutex.rs                    # Sleeping mutex
│         │    ├─── rwlock.rs                   # Read-write lock
│         │    ├─── semaphore.rs                # Semaphore
│         │    ├─── atomic.rs                   # Atomic operations
│         │    └─── once.rs                     # One-time initialization
│         │
│         ├─── debug/                           # ═══════════════════════════════════════════════
│         │    │                                # DEBUG UTILITIES
│         │    │                                # Profiling, tracing
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Debug interface
│         │    ├─── serial_console.rs           # Serial debug console
│         │    ├─── backtrace.rs                # Stack backtrace
│         │    ├─── profiler.rs                 # Kernel profiler
│         │    ├─── tracing.rs                  # Event tracing
│         │    └─── gdb_stub.rs                 # GDB remote debugging
│         │
│         ├─── power/                           # ═══════════════════════════════════════════════
│         │    │                                # POWER MANAGEMENT
│         │    │                                # ACPI, sleep states
│         │    │                                # ═══════════════════════════════════════════════
│         │    ├─── mod.rs                      # Power interface
│         │    ├─── acpi.rs                     # ACPI (C wrapper)
│         │    ├─── cpufreq.rs                  # CPU frequency scaling
│         │    ├─── idle.rs                     # Idle states
│         │    └─── suspend.rs                  # Suspend/resume
│         │
│         └─── ai/                              # ═══════════════════════════════════════════════
│              │                                # IA INTÉGRÉE (KERNEL HOOKS)
│              │                                # Hooks pour agents userspace
│              │                                # ═══════════════════════════════════════════════
│              ├─── mod.rs                      # AI interface
│              ├─── hooks.rs                    # Hooks pour AI agents
│              ├─── prediction.rs               # Prediction hints
│              ├─── monitoring.rs               # System monitoring
│              └─── wasm_runtime.rs             # WebAssembly runtime (sandboxing)
│
│
├─── posix_x/                                   # ═══════════════════════════════════════════════
│    │                                          # POSIX-X STANDALONE LIBRARY
│    │                                          # Bibliothèque séparée linkable
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── Cargo.toml                            # Workspace POSIX-X
│    ├─── build.rs                              # Build musl adaptée
│    │                                          # • Compile musl sources
│    │                                          # • Generate bindings
│    │                                          # • Link avec kernel
│    │
│    ├─── README.md                             # ════════════════════════════════
│    │                                          # DOCUMENTATION POSIX-X
│    │                                          # • Guide d'utilisation
│    │                                          # • Architecture détaillée
│    │                                          # • Benchmarks vs Linux
│    │                                          # • Migration guide
│    │                                          # • API reference
│    │                                          # ════════════════════════════════
│    │
│    ├─── include/                              # ──── HEADERS C ────
│    │    ├─── posix_x.h                        # API publique POSIX-X
│    │    ├─── sys/                             # Headers système
│    │    │    ├─── types.h
│    │    │    ├─── stat.h
│    │    │    ├─── socket.h
│    │    │    └─── mman.h
│    │    ├─── unistd.h                         # POSIX unistd
│    │    ├─── fcntl.h                          # File control
│    │    ├─── signal.h                         # Signals
│    │    └─── pthread.h                        # Threads POSIX
│    │
│    ├─── src/                                  # ──── SOURCE POSIX-X ────
│    │    │
│    │    ├─── lib.rs                           # Main library
│    │    │                                     # • Re-exports modules
│    │    │                                     # • Initialize POSIX-X
│    │    │
│    │    ├─── musl/                            # ════════════════════════════════
│    │    │    │                                # MUSL LIBC ADAPTÉE
│    │    │    │                                # Base: musl 1.2.5
│    │    │    │                                # Modifié pour Exo-OS
│    │    │    │                                # ════════════════════════════════
│    │    │    │
│    │    │    ├─── stdio/                      # Standard I/O
│    │    │    │    ├─── printf.c               # printf family
│    │    │    │    ├─── scanf.c                # scanf family
│    │    │    │    ├─── fopen.c                # File operations
│    │    │    │    ├─── fread.c
│    │    │    │    ├─── fwrite.c
│    │    │    │    └─── setvbuf.c              # Buffering
│    │    │    │
│    │    │    ├─── string/                     # String operations
│    │    │    │    ├─── memcpy.c               # Memory operations
│    │    │    │    ├─── memmove.c
│    │    │    │    ├─── memset.c
│    │    │    │    ├─── strcmp.c               # String comparison
│    │    │    │    ├─── strcpy.c               # String copy
│    │    │    │    └─── strlen.c               # String length
│    │    │    │
│    │    │    ├─── stdlib/                     # Standard library
│    │    │    │    ├─── malloc.c               # ════════════════════════════════
│    │    │    │    │                           # MALLOC → EXO-OS ALLOCATOR
│    │    │    │    │                           # Redirects vers heap kernel
│    │    │    │    │                           # Performance native!
│    │    │    │    │                           # ════════════════════════════════
│    │    │    │    ├─── free.c
│    │    │    │    ├─── calloc.c
│    │    │    │    ├─── realloc.c
│    │    │    │    ├─── atoi.c                 # ASCII to integer
│    │    │    │    ├─── strtol.c               # String to long
│    │    │    │    └─── qsort.c                # Quick sort
│    │    │    │
│    │    │    ├─── unistd/                     # POSIX unistd
│    │    │    │    ├─── read.c                 # ════════════════════════════════
│    │    │    │    │                           # READ → FUSION RING
│    │    │    │    │                           # Inline si ≤56B
│    │    │    │    │                           # Zero-copy si >56B
│    │    │    │    │                           # ════════════════════════════════
│    │    │    │    ├─── write.c                # ════════════════════════════════
│    │    │    │    │                           # WRITE → FUSION RING
│    │    │    │    │                           # Optimisé comme read
│    │    │    │    │                           # ════════════════════════════════
│    │    │    │    ├─── close.c
│    │    │    │    ├─── lseek.c
│    │    │    │    ├─── pipe.c                 # Pipe → Fusion Ring!
│    │    │    │    ├─── fork.c                 # Fork (émulation lente)
│    │    │    │    ├─── execve.c               # Execve
│    │    │    │    └─── getpid.c               # Fast path
│    │    │    │
│    │    │    ├─── fcntl/                      # File control
│    │    │    │    ├─── open.c                 # ════════════════════════════════
│    │    │    │    │                           # OPEN → CAPABILITIES
│    │    │    │    │                           # Cache capability aggressif
│    │    │    │    │                           # 50 cycles (hit) vs 2000 (miss)
│    │    │    │    │                           # ════════════════════════════════
│    │    │    │    ├─── fcntl.c                # File control operations
│    │    │    │    └─── ioctl.c                # Device I/O control
│    │    │    │
│    │    │    ├─── pthread/                    # POSIX threads
│    │    │    │    ├─── pthread_create.c       # ════════════════════════════════
│    │    │    │    │                           # PTHREAD → EXO THREADS
│    │    │    │    │                           # Windowed context switch!
│    │    │    │    │                           # 304 cycles vs 2134 Linux
│    │    │    │    │                           # ════════════════════════════════
│    │    │    │    ├─── pthread_join.c
│    │    │    │    ├─── pthread_mutex.c        # Mutex → Exo-OS mutex
│    │    │    │    ├─── pthread_cond.c         # Condition variables
│    │    │    │    ├─── pthread_rwlock.c       # Read-write locks
│    │    │    │    └─── pthread_key.c          # Thread-local storage
│    │    │    │
│    │    │    ├─── signal/                     # Signals
│    │    │    │    ├─── signal.c               # ════════════════════════════════
│    │    │    │    │                           # SIGNAL → IPC MESSAGES
│    │    │    │    │                           # SIGINT → Message::Interrupt
│    │    │    │    │                           # Daemon listener thread
│    │    │    │    │                           # ════════════════════════════════
│    │    │    │    ├─── kill.c                 # Send signal (→ IPC)
│    │    │    │    ├─── sigaction.c            # Signal handling
│    │    │    │    └─── raise.c                # Raise signal
│    │    │    │
│    │    │    ├─── socket/                     # Network sockets
│    │    │    │    ├─── socket.c               # Socket creation
│    │    │    │    ├─── bind.c
│    │    │    │    ├─── listen.c
│    │    │    │    ├─── accept.c
│    │    │    │    ├─── connect.c
│    │    │    │    ├─── send.c                 # Send via IPC channels
│    │    │    │    ├─── recv.c                 # Recv via IPC channels
│    │    │    │    └─── select.c               # Select/poll
│    │    │    │
│    │    │    ├─── time/                       # Time functions
│    │    │    │    ├─── time.c
│    │    │    │    ├─── gettimeofday.c
│    │    │    │    ├─── clock_gettime.c        # Fast path (~100 cycles)
│    │    │    │    ├─── nanosleep.c
│    │    │    │    └─── strftime.c
│    │    │    │
│    │    │    ├─── dirent/                     # Directory operations
│    │    │    │    ├─── opendir.c
│    │    │    │    ├─── readdir.c
│    │    │    │    └─── closedir.c
│    │    │    │
│    │    │    ├─── stat/                       # File stats
│    │    │    │    ├─── stat.c
│    │    │    │    ├─── fstat.c
│    │    │    │    └─── lstat.c
│    │    │    │
│    │    │    ├─── mman/                       # Memory mapping
│    │    │    │    ├─── mmap.c                 # mmap → Exo-OS shared mem
│    │    │    │    ├─── munmap.c
│    │    │    │    └─── mprotect.c
│    │    │    │
│    │    │    ├─── env/                        # Environment
│    │    │    │    ├─── getenv.c
│    │    │    │    ├─── setenv.c
│    │    │    │    └─── environ.c
│    │    │    │
│    │    │    ├─── errno/                      # Error handling
│    │    │    │    ├─── errno.c                # Thread-local errno
│    │    │    │    └─── strerror.c
│    │    │    │
│    │    │    └─── internal/                   # Internal musl
│    │    │         ├─── syscall.c              # Syscall wrapper
│    │    │         ├─── libc.c                 # Libc internal
│    │    │         └─── pthread_impl.c         # Pthread internal
│    │    │
│    │    ├─── kernel_interface/                # ════════════════════════════════
│    │    │    │                                # INTERFACE KERNEL EXO-OS
│    │    │    │                                # Bridge POSIX-X ↔ Kernel
│    │    │    │                                # ════════════════════════════════
│    │    │    │
│    │    │    ├─── mod.rs                      # Kernel interface
│    │    │    │
│    │    │    ├─── syscall_adapter.rs          # ════════════════════════════════
│    │    │    │                                # ADAPTATEUR SYSCALLS
│    │    │    │                                # POSIX syscall → Exo syscall
│    │    │    │                                # Route vers fast/hybrid/legacy
│    │    │    │                                # ════════════════════════════════
│    │    │    │
│    │    │    ├─── fd_table.rs                 # Table FD globale
│    │    │    │                                # • FD → Capability mapping
│    │    │    │                                # • Lock-free ops
│    │    │    │
│    │    │    ├─── capability_cache.rs         # Cache capabilities
│    │    │    │                                # • LRU cache
│    │    │    │                                # • Prefetch predictor
│    │    │    │                                # • 90%+ hit rate
│    │    │    │
│    │    │    ├─── ipc_bridge.rs               # Bridge IPC
│    │    │    │                                # • POSIX pipes → Fusion Rings
│    │    │    │                                # • Sockets → IPC channels
│    │    │    │
│    │    │    ├─── signal_daemon.rs            # Daemon signaux
│    │    │    │                                # • Thread listener
│    │    │    │                                # • IPC msg → POSIX signal
│    │    │    │
│    │    │    └─── memory_bridge.rs            # Bridge mémoire
│    │    │                                     # • malloc → Exo allocator
│    │    │                                     # • mmap → Shared memory
│    │    │
│    │    ├─── optimization/                    # ──── OPTIMIZATIONS ────
│    │    │    ├─── mod.rs
│    │    │    ├─── adaptive_optimizer.rs       # Optimiseur adaptatif
│    │    │    ├─── zerocopy_detector.rs        # Détecteur zero-copy
│    │    │    ├─── batch_optimizer.rs          # Batching intelligent
│    │    │    └─── statistics.rs               # Stats collection
│    │    │
│    │    ├─── tools/                           # ──── OUTILS ────
│    │    │    ├─── profiler.rs                 # Profiler POSIX-X
│    │    │    ├─── analyzer.rs                 # Analyseur binaires
│    │    │    ├─── migrator.rs                 # Assistant migration
│    │    │    └─── benchmark.rs                # Suite benchmarks
│    │    │
│    │    └─── tests/                           # ──── TESTS ────
│    │         ├─── unit_tests.rs               # Tests unitaires
│    │         ├─── integration_tests.rs        # Tests intégration
│    │         ├─── compat_tests.rs             # Tests compatibilité
│    │         └─── perf_tests.rs               # Tests performance
│    │
│    ├─── examples/                             # ──── EXEMPLES ────
│    │    ├─── hello_world.c                    # Hello world POSIX
│    │    ├─── file_io.c                        # I/O fichiers
│    │    ├─── pipe_example.c                   # Pipes (Fusion Rings!)
│    │    ├─── threading.c                      # Threads POSIX
│    │    ├─── socket_server.c                  # Socket serveur
│    │    └─── mixed_api.c                      # Mix POSIX + Native API
│    │
│    ├─── benchmarks/                           # ──── BENCHMARKS ────
│    │    ├─── syscall_bench.c                  # Bench syscalls
│    │    ├─── io_bench.c                       # Bench I/O
│    │    ├─── ipc_bench.c                      # Bench IPC
│    │    ├─── thread_bench.c                   # Bench threads
│    │    └─── compare_linux.sh                 # Compare vs Linux
│    │
│    └─── docs/                                 # ──── DOCUMENTATION ────
│         ├─── API.md                           # API reference
│         ├─── ARCHITECTURE.md                  # Architecture POSIX-X
│         ├─── PERFORMANCE.md                   # Performance guide
│         ├─── MIGRATION.md                     # Migration guide
│         └─── TROUBLESHOOTING.md               # Troubleshooting
│
│
├─── userland/                                  # ═══════════════════════════════════════════════
│    │                                          # ESPACE UTILISATEUR
│    │                                          # Services, drivers, apps
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── init/                                 # ──── INIT SYSTEM ────
│    │    ├─── Cargo.toml
│    │    └─── src/
│    │         ├─── main.rs                     # Init process (PID 1)
│    │         ├─── service_manager.rs          # Manage services
│    │         └─── recovery.rs                 # Recovery mode
│    │
│    ├─── services/                             # ──── SERVICES USERSPACE ────
│    │    │
│    │    ├─── fs_service/                      # Filesystem service
│    │    │    ├─── Cargo.toml
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── vfs.rs                 # VFS implementation
│    │    │         └─── cache.rs               # Page cache
│    │    │
│    │    ├─── net_service/                     # Network service
│    │    │    ├─── Cargo.toml
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── tcp_stack.rs           # TCP/IP stack
│    │    │         └─── dhcp_client.rs         # DHCP client
│    │    │
│    │    ├─── driver_manager/                  # Driver manager
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── pci_scan.rs            # PCI enumeration
│    │    │         └─── load_driver.rs         # Dynamic driver loading
│    │    │
│    │    └─── window_manager/                  # Window manager (futur)
│    │         └─── src/
│    │              └─── main.rs
│    │
│    ├─── ai_agents/                            # ──── AGENTS IA ────
│    │    │                                     # Intelligence artificielle
│    │    │
│    │    ├─── ai_core/                         # AI-Core (orchestrateur)
│    │    │    ├─── Cargo.toml
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── orchestrator.rs        # Orchestration agents
│    │    │         ├─── ipc_coord.rs           # Coordination IPC
│    │    │         └─── security.rs            # Clés éphémères PQ
│    │    │
│    │    ├─── ai_res/                          # AI-Res (ressources)
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── eco_plus_plus.rs       # Algo Eco++ (big.LITTLE)
│    │    │         ├─── load_balancer.rs       # Load balancing
│    │    │         └─── power_manager.rs       # Power management
│    │    │
│    │    ├─── ai_user/                         # AI-User (interface)
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── peg_parser.rs          # PEG hybride
│    │    │         ├─── intent_engine.rs       # Moteur d'intention (SLM)
│    │    │         └─── adaptive_ui.rs         # UI adaptative
│    │    │
│    │    ├─── ai_sec/                          # AI-Sec (sécurité)
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── behavioral.rs          # Analyse comportementale
│    │    │         ├─── fuzzer.rs              # libFuzzer integration
│    │    │         └─── detector.rs            # Threat detection
│    │    │
│    │    ├─── ai_learn/                        # AI-Learn (apprentissage)
│    │    │    └─── src/
│    │    │         ├─── main.rs
│    │    │         ├─── federated.rs           # Federated learning
│    │    │         ├─── homomorphic.rs         # Homomorphic encryption
│    │    │         └─── optimizer.rs           # Model optimization
│    │    │
│    │    └─── ai_assistant/                    # Embedded assistant
│    │         └─── src/
│    │              ├─── main.rs
│    │              ├─── voice.rs               # Voice commands
│    │              ├─── nlp.rs                 # NLP processing
│    │              └─── actions.rs             # System actions
│    │
│    ├─── drivers/                              # ──── DRIVERS USERSPACE ────
│    │    │                                     # Drivers complexes en userland
│    │    │
│    │    ├─── gpu/                             # GPU drivers
│    │    │    ├─── nvidia/                     # NVIDIA (adapter C libs)
│    │    │    └─── amd/                        # AMD (adapter C libs)
│    │    │
│    │    ├─── wifi/                            # WiFi drivers
│    │    │    └─── src/                        # Wrapper C drivers
│    │    │
│    │    └─── bluetooth/                       # Bluetooth stack
│    │         └─── src/
│    │
│    ├─── shell/                                # ──── SHELL ────
│    │    ├─── Cargo.toml
│    │    └─── src/
│    │         ├─── main.rs                     # Shell interactif
│    │         ├─── parser.rs                   # Command parser
│    │         ├─── executor.rs                 # Command executor
│    │         ├─── builtin.rs                  # Builtin commands
│    │         └─── ai_integration.rs           # AI assistant intégré
│    │
│    ├─── coreutils/                            # ──── COREUTILS ────
│    │    │                                     # Utilitaires de base
│    │    ├─── ls/                              # ls command
│    │    ├─── cat/                             # cat command
│    │    ├─── grep/                            # grep command
│    │    ├─── cp/                              # cp command
│    │    ├─── mv/                              # mv command
│    │    └─── rm/                              # rm command
│    │
│    ├─── libc/                                 # ──── LIBC USERSPACE ────
│    │    │                                     # Copy of POSIX-X for apps
│    │    └─── (symlink to ../posix_x/)
│    │
│    └─── apps/                                 # ──── APPLICATIONS ────
│         ├─── editor/                          # Text editor
│         ├─── browser/                         # Web browser (Servo-based?)
│         └─── demo/                            # Demo apps
│
│
├─── build/                                     # ═══════════════════════════════════════════════
│    │                                          # SCRIPTS DE BUILD
│    │                                          # Compilation et packaging
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── build_kernel.sh                       # ════════════════════════════════
│    │                                          # BUILD KERNEL COMPLET
│    │                                          # • Compile Rust
│    │                                          # • Compile ASM (NASM)
│    │                                          # • Compile C (gcc/clang)
│    │                                          # • Link tout ensemble
│    │                                          # • Génère kernel.elf
│    │                                          # ════════════════════════════════
│    │
│    ├─── build_posix_x.sh                      # Build POSIX-X library
│    │                                          # • Compile musl adaptée
│    │                                          # • Build Rust wrappers
│    │                                          # • Génère libposix_x.a
│    │
│    ├─── build_userland.sh                     # Build userland
│    │                                          # • Compile services
│    │                                          # • Compile AI agents
│    │                                          # • Compile apps
│    │
│    ├─── image.sh                              # ════════════════════════════════
│    │                                          # GÉNÉRATION IMAGE SYSTÈME
│    │                                          # • Create bootable ISO
│    │                                          # • GRUB configuration
│    │                                          # • Initramfs
│    │                                          # • Output: exo-os.iso
│    │                                          # ════════════════════════════════
│    │
│    ├─── test.sh                               # Run tests
│    │                                          # • Unit tests
│    │                                          # • Integration tests
│    │                                          # • QEMU tests
│    │
│    ├─── qemu.sh                               # ════════════════════════════════
│    │                                          # LANCEMENT QEMU
│    │                                          # • x86_64 VM
│    │                                          # • Serial output
│    │                                          # • GDB server
│    │                                          # ════════════════════════════════
│    │
│    ├─── benchmark.sh                          # Run benchmarks
│    │                                          # • Syscall bench
│    │                                          # • IPC bench
│    │                                          # • Compare vs Linux
│    │
│    └─── clean.sh                              # Clean build artifacts
│
│
├─── scripts/                                   # ═══════════════════════════════════════════════
│    │                                          # SCRIPTS UTILITAIRES
│    │                                          # Dev, deploy, debug
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── setup/                                # ──── SETUP SCRIPTS ────
│    │    ├─── check_env.ps1                    # Check Windows environment
│    │    ├─── check_env.sh                     # Check Linux/macOS env
│    │    ├─── install_deps.sh                  # Install dependencies
│    │    ├─── tpm_setup.sh                     # Setup TPM
│    │    ├─── hsm_setup.sh                     # Setup HSM
│    │    └─── post_quantum_setup.sh            # Setup PQ crypto
│    │
│    ├─── build/                                # ──── BUILD HELPERS ────
│    │    ├─── build_windows.ps1               # Build on Windows
│    │    ├─── build_linux.sh                   # Build on Linux
│    │    └─── cross_compile.sh                 # Cross-compilation
│    │
│    ├─── debug/                                # ──── DEBUG SCRIPTS ────
│    │    ├─── gdb_kernel.sh                    # GDB kernel debugging
│    │    ├─── trace.sh                         # Kernel tracing
│    │    └─── analyze_crash.sh                 # Crash analysis
│    │
│    ├─── posix_x/                              # ──── POSIX-X TOOLS ────
│    │    ├─── analyze_binary.sh                # Analyze app compatibility
│    │    ├─── profile_app.sh                   # Profile POSIX-X usage
│    │    ├─── migrate_app.sh                   # Migrate app to native
│    │    └─── benchmark_compat.sh              # Benchmark compatibility
│    │
│    └─── deploy/                               # ──── DEPLOYMENT ────
│         ├─── create_usb.sh                    # Create bootable USB
│         ├─── network_boot.sh                  # PXE boot setup
│         └─── install.sh                       # Installation script
│
│
├─── docs/                                      # ═══════════════════════════════════════════════
│    │                                          # DOCUMENTATION COMPLÈTE
│    │                                          # Guides, références, specs
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── README.md                             # README principal
│    ├─── QUICK_START.md                        # Quick start guide
│    ├─── QUICK_START_WINDOWS.md                # Windows specific guide
│    │
│    ├─── architecture/                         # ──── ARCHITECTURE ────
│    │    ├─── OVERVIEW.md                      # Vue d'ensemble
│    │    ├─── KERNEL_DESIGN.md                 # Design kernel
│    │    ├─── FUSION_RINGS.md                  # Fusion Rings détaillé
│    │    ├─── WINDOWED_CONTEXT.md              # Windowed context switch
│    │    ├─── MEMORY_MANAGEMENT.md             # Gestion mémoire
│    │    ├─── SCHEDULER.md                     # Ordonnanceur
│    │    ├─── SECURITY.md                      # Architecture sécurité
│    │    ├─── AI_INTEGRATION.md                # Intégration IA
│    │    └─── POSIX_X_DESIGN.md                # ════════════════════════════════
│    │                                          # DESIGN POSIX-X DÉTAILLÉ
│    │                                          # • Architecture 3 niveaux
│    │                                          # • Fast/Hybrid/Legacy paths
│    │                                          # • Adaptive optimization
│    │                                          # • Translation strategies
│    │                                          # • Benchmarks vs Linux
│    │                                          # ════════════════════════════════
│    │
│    ├─── api/                                  # ──── API REFERENCE ────
│    │    ├─── KERNEL_API.md                    # Kernel API
│    │    ├─── SYSCALLS.md                      # Syscalls reference
│    │    ├─── IPC_API.md                       # IPC API
│    │    ├─── POSIX_X_API.md                   # ════════════════════════════════
│    │    │                                     # API POSIX-X COMPLÈTE
│    │    │                                     # • Syscalls supportés
│    │    │                                     # • Libc functions
│    │    │                                     # • Performance guarantees
│    │    │                                     # • Limitations
│    │    │                                     # ════════════════════════════════
│    │    ├─── NATIVE_API.md                    # Native Exo-OS API
│    │    └─── C_FFI.md                         # C FFI reference
│    │
│    ├─── guides/                               # ──── GUIDES ────
│    │    ├─── BUILDING.md                      # Guide compilation
│    │    ├─── DEBUGGING.md                     # Guide debugging
│    │    ├─── DRIVER_DEVELOPMENT.md            # Développement drivers
│    │    ├─── APP_DEVELOPMENT.md               # Développement apps
│    │    │
│    │    ├─── POSIX_MIGRATION.md               # ════════════════════════════════
│    │    │                                     # GUIDE MIGRATION POSIX
│    │    │                                     # • Évaluer compatibilité
│    │    │                                     # • Utiliser outils migration
│    │    │                                     # • Optimiser performance
│    │    │                                     # • Migrer vers native API
│    │    │                                     # • Exemples concrets
│    │    │                                     # ════════════════════════════════
│    │    │
│    │    ├─── RUST_C_INTEGRATION.md            # ════════════════════════════════
│    │    │                                     # INTÉGRATION RUST + C
│    │    │                                     # • FFI best practices
│    │    │                                     # • Memory safety
│    │    │                                     # • Build system
│    │    │                                     # • Debugging mixed code
│    │    │                                     # ════════════════════════════════
│    │    │
│    │    ├─── SECURITY_HARDENING.md            # Guide sécurité
│    │    ├─── PERFORMANCE_TUNING.md            # Guide optimisation
│    │    └─── AI_AGENTS.md                     # Guide agents IA
│    │
│    ├─── specs/                                # ──── SPECIFICATIONS ────
│    │    ├─── BOOT_PROTOCOL.md                 # Boot protocol spec
│    │    ├─── SYSCALL_ABI.md                   # Syscall ABI spec
│    │    ├─── IPC_PROTOCOL.md                  # IPC protocol spec
│    │    ├─── CAPABILITY_SYSTEM.md             # Capability system spec
│    │    └─── POSIX_COMPATIBILITY.md           # ════════════════════════════════
│    │                                          # SPÉCIFICATION COMPATIBILITÉ POSIX
│    │                                          # • Coverage POSIX.1-2017
│    │                                          # • Syscalls supportés (liste)
│    │                                          # • Limitations connues
│    │                                          # • Extensions Exo-OS
│    │                                          # ════════════════════════════════
│    │
│    ├─── benchmarks/                           # ──── BENCHMARKS ────
│    │    ├─── METHODOLOGY.md                   # Méthodologie benchmarks
│    │    ├─── RESULTS.md                       # Résultats benchmarks
│    │    ├─── COMPARISON_LINUX.md              # Comparaison vs Linux
│    │    ├─── COMPARISON_REDOX.md              # Comparaison vs Redox
│    │    └─── POSIX_X_PERFORMANCE.md           # ════════════════════════════════
│    │                                          # PERFORMANCE POSIX-X
│    │                                          # • Syscalls latency
│    │                                          # • Path distribution stats
│    │                                          # • Optimization effectiveness
│    │                                          # • Real-world apps
│    │                                          # ════════════════════════════════
│    │
│    └─── tutorials/                            # ──── TUTORIELS ────
│         ├─── 01_hello_kernel.md               # Premier module kernel
│         ├─── 02_ipc_basics.md                 # Bases IPC
│         ├─── 03_driver_simple.md              # Driver simple
│         ├─── 04_posix_app.md                  # ════════════════════════════════
│         │                                     # CRÉER APP POSIX
│         │                                     # • Compiler avec POSIX-X
│         │                                     # • Profiler performance
│         │                                     # • Optimiser
│         │                                     # ════════════════════════════════
│         ├─── 05_native_app.md                 # Créer app native
│         ├─── 06_hybrid_app.md                 # ════════════════════════════════
│         │                                     # APP HYBRIDE
│         │                                     # • Mix POSIX + Native
│         │                                     # • Migration progressive
│         │                                     # • Best of both worlds
│         │                                     # ════════════════════════════════
│         └─── 07_ai_integration.md             # Intégration IA
│
│
├─── tests/                                     # ═══════════════════════════════════════════════
│    │                                          # TESTS COMPLETS
│    │                                          # Unit, integration, system
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── unit/                                 # ──── TESTS UNITAIRES ────
│    │    ├─── memory_test.rs                   # Tests mémoire
│    │    ├─── scheduler_test.rs                # Tests scheduler
│    │    ├─── ipc_test.rs                      # Tests IPC
│    │    └─── posix_x_test.rs                  # ════════════════════════════════
│    │                                          # TESTS POSIX-X
│    │                                          # • Syscalls correctness
│    │                                          # • Translation accuracy
│    │                                          # • Performance targets
│    │                                          # ════════════════════════════════
│    │
│    ├─── integration/                          # ──── TESTS INTÉGRATION ────
│    │    ├─── boot_test.rs                     # Test boot sequence
│    │    ├─── multicore_test.rs                # Test multi-core
│    │    ├─── filesystem_test.rs               # Test filesystem
│    │    └─── posix_apps_test.rs               # ════════════════════════════════
│    │                                          # TESTS APPS POSIX
│    │                                          # • Run coreutils
│    │                                          # • Nginx benchmark
│    │                                          # • Redis benchmark
│    │                                          # • gcc self-compile
│    │                                          # ════════════════════════════════
│    │
│    ├─── system/                               # ──── TESTS SYSTÈME ────
│    │    ├─── stress_test.rs                   # Stress tests
│    │    ├─── stability_test.rs                # Stability tests
│    │    └─── regression_test.rs               # Regression tests
│    │
│    ├─── benchmarks/                           # ──── BENCHMARKS ────
│    │    ├─── syscall_bench.rs                 # Benchmark syscalls
│    │    ├─── ipc_bench.rs                     # Benchmark IPC
│    │    ├─── scheduler_bench.rs               # Benchmark scheduler
│    │    ├─── memory_bench.rs                  # Benchmark memory
│    │    └─── posix_x_bench.rs                 # ════════════════════════════════
│    │                                          # BENCHMARK POSIX-X
│    │                                          # • Compare 3 paths
│    │                                          # • Real-world scenarios
│    │                                          # • Linux comparison
│    │                                          # ════════════════════════════════
│    │
│    └─── compatibility/                        # ──── TESTS COMPATIBILITÉ ────
│         ├─── posix_compliance.rs              # POSIX compliance tests
│         ├─── linux_abi_test.rs                # Linux ABI compatibility
│         └─── app_compatibility/               # Test apps réelles
│              ├─── nginx/
│              ├─── redis/
│              ├─── postgres/
│              └─── gcc/
│
│
├─── tools/                                     # ═══════════════════════════════════════════════
│    │                                          # OUTILS DE DÉVELOPPEMENT
│    │                                          # Profiling, debugging, analysis
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── profiler/                             # ──── PROFILER ────
│    │    ├─── Cargo.toml
│    │    └─── src/
│    │         ├─── main.rs                     # Kernel profiler
│    │         ├─── trace_analyzer.rs           # Trace analysis
│    │         └─── flame_graph.rs              # Flame graph generator
│    │
│    ├─── debugger/                             # ──── DEBUGGER ────
│    │    └─── src/
│    │         ├─── main.rs                     # Kernel debugger UI
│    │         └─── gdb_bridge.rs               # GDB integration
│    │
│    ├─── posix_x_tools/                        # ════════════════════════════════
│    │    │                                     # OUTILS POSIX-X
│    │    │                                     # Migration et analysis
│    │    │                                     # ════════════════════════════════
│    │    ├─── Cargo.toml
│    │    └─── src/
│    │         │
│    │         ├─── main.rs                     # CLI principale
│    │         │
│    │         ├─── commands/                   # Commandes
│    │         │    ├─── analyze.rs             # ════════════════════════════════
│    │         │    │                           # ANALYZE COMMAND
│    │         │    │                           # $ posix-x analyze ./app
│    │         │    │                           # • Scan ELF
│    │         │    │                           # • Detect POSIX usage
│    │         │    │                           # • Compatibility score
│    │         │    │                           # • Recommendations
│    │         │    │                           # ════════════════════════════════
│    │         │    │
│    │         │    ├─── profile.rs             # ════════════════════════════════
│    │         │    │                           # PROFILE COMMAND
│    │         │    │                           # $ posix-x profile ./app
│    │         │    │                           # • Trace syscalls
│    │         │    │                           # • Measure latency
│    │         │    │                           # • Path distribution
│    │         │    │                           # • Generate report
│    │         │    │                           # ════════════════════════════════
│    │         │    │
│    │         │    ├─── migrate.rs             # ════════════════════════════════
│    │         │    │                           # MIGRATE COMMAND
│    │         │    │                           # $ posix-x migrate app.c -o app_exo.c
│    │         │    │                           # • Parse C code
│    │         │    │                           # • Replace POSIX → Native
│    │         │    │                           # • Generate new code
│    │         │    │                           # ════════════════════════════════
│    │         │    │
│    │         │    ├─── run.rs                 # ════════════════════════════════
│    │         │    │                           # RUN COMMAND
│    │         │    │                           # $ posix-x run --optimize ./app
│    │         │    │                           # • Load optimization profile
│    │         │    │                           # • Enable adaptive mode
│    │         │    │                           # • Monitor performance
│    │         │    │                           # ════════════════════════════════
│    │         │    │
│    │         │    └─── benchmark.rs           # Benchmark command
│    │         │
│    │         ├─── analyzer/                   # Binary analyzer
│    │         │    ├─── elf_parser.rs          # Parse ELF binaries
│    │         │    ├─── symbol_finder.rs       # Find POSIX symbols
│    │         │    └─── dependency_graph.rs    # Build dep graph
│    │         │
│    │         ├─── migrator/                   # Code migrator
│    │         │    ├─── c_parser.rs            # Parse C code
│    │         │    ├─── transformer.rs         # Transform AST
│    │         │    └─── codegen.rs             # Generate new code
│    │         │
│    │         └─── profiler/                   # Runtime profiler
│    │              ├─── tracer.rs              # Syscall tracer
│    │              ├─── stats.rs               # Statistics collector
│    │              └─── reporter.rs            # Report generator
│    │
│    ├─── image_builder/                        # ──── IMAGE BUILDER ────
│    │    └─── src/
│    │         ├─── main.rs                     # Build bootable images
│    │         ├─── iso.rs                      # ISO generation
│    │         └─── initramfs.rs                # Initramfs creation
│    │
│    └─── qemu_runner/                          # ──── QEMU RUNNER ────
│         └─── src/
│              ├─── main.rs                     # QEMU test runner
│              └─── serial_capture.rs           # Capture serial output
│
│
├─── libs/                                      # ═══════════════════════════════════════════════
│    │                                          # BIBLIOTHÈQUES PARTAGÉES
│    │                                          # Communes kernel + userland
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── exo_types/                            # ──── TYPES COMMUNS ────
│    │    ├─── Cargo.toml
│    │    └─── src/
│    │         ├─── lib.rs
│    │         ├─── address.rs                  # PhysAddr, VirtAddr
│    │         ├─── capability.rs               # Capability types
│    │         └─── error.rs                    # Error types
│    │
│    ├─── exo_ipc/                              # ──── IPC LIBRARY ────
│    │    └─── src/
│    │         ├─── lib.rs
│    │         ├─── channel.rs                  # Channel API
│    │         └─── message.rs                  # Message types
│    │
│    ├─── exo_crypto/                           # ──── CRYPTO LIBRARY ────
│    │    └─── src/
│    │         ├─── lib.rs
│    │         ├─── kyber.rs                    # Kyber wrapper
│    │         ├─── dilithium.rs                # Dilithium wrapper
│    │         └─── chacha20.rs                 # ChaCha20 wrapper
│    │
│    └─── exo_std/                              # ════════════════════════════════
│         │                                     # NATIVE STANDARD LIBRARY
│         │                                     # API moderne Exo-OS
│         │                                     # ════════════════════════════════
│         ├─── Cargo.toml
│         └─── src/
│              ├─── lib.rs                      # Main library
│              │
│              ├─── io/                         # I/O module
│              │    ├─── mod.rs
│              │    ├─── read.rs                # Read trait
│              │    ├─── write.rs               # Write trait
│              │    └─── seek.rs                # Seek trait
│              │
│              ├─── fs/                         # Filesystem module
│              │    ├─── mod.rs
│              │    ├─── file.rs                # File API (capabilities)
│              │    ├─── dir.rs                 # Directory API
│              │    └─── metadata.rs            # Metadata
│              │
│              ├─── ipc/                        # IPC module
│              │    ├─── mod.rs
│              │    ├─── channel.rs             # Channel<T> (zero-copy)
│              │    ├─── shared_mem.rs          # Shared memory
│              │    └─── async_channel.rs       # Async channels
│              │
│              ├─── process/                    # Process module
│              │    ├─── mod.rs
│              │    ├─── spawn.rs               # spawn() (NO fork!)
│              │    ├─── command.rs             # Command builder
│              │    └─── exit.rs                # Process exit
│              │
│              ├─── thread/                     # Thread module
│              │    ├─── mod.rs
│              │    ├─── spawn.rs               # Thread spawning
│              │    ├─── join.rs                # Thread join
│              │    └─── local.rs               # Thread-local storage
│              │
│              ├─── sync/                       # Sync primitives
│              │    ├─── mod.rs
│              │    ├─── mutex.rs               # Mutex
│              │    ├─── rwlock.rs              # RwLock
│              │    └─── atomic.rs              # Atomics
│              │
│              ├─── net/                        # Network module
│              │    ├─── mod.rs
│              │    ├─── tcp.rs                 # TCP (via IPC)
│              │    ├─── udp.rs                 # UDP (via IPC)
│              │    └─── addr.rs                # Address types
│              │
│              ├─── time/                       # Time module
│              │    ├─── mod.rs
│              │    ├─── instant.rs             # Instant
│              │    ├─── duration.rs            # Duration
│              │    └─── sleep.rs               # Sleep
│              │
│              ├─── security/                   # Security module
│              │    ├─── mod.rs
│              │    ├─── capability.rs          # Capability API
│              │    ├─── crypto.rs              # Crypto API
│              │    └─── tpm.rs                 # TPM API
│              │
│              └─── ai/                         # AI module
│                   ├─── mod.rs
│                   ├─── agent.rs               # Agent API
│                   └─── query.rs               # Query interface
│
│
├─── third_party/                               # ═══════════════════════════════════════════════
│    │                                          # DÉPENDANCES EXTERNES
│    │                                          # Code tiers (submodules git)
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── musl/                                 # ════════════════════════════════
│    │    │                                     # MUSL LIBC (submodule git)
│    │    │                                     # Version: 1.2.5
│    │    │                                     # Patches dans posix_x/
│    │    │                                     # ════════════════════════════════
│    │    └─── (git submodule)
│    │
│    ├─── kyber/                                # Kyber (post-quantum KEM)
│    │    └─── (git submodule)
│    │
│    ├─── dilithium/                            # Dilithium (post-quantum sig)
│    │    └─── (git submodule)
│    │
│    └─── drivers/                              # Drivers C legacy
│         ├─── e1000/                           # Intel E1000 (submodule)
│         ├─── rtl8139/                         # Realtek (submodule)
│         └─── wifi/                            # WiFi drivers
│
│
├─── configs/                                   # ═══════════════════════════════════════════════
│    │                                          # CONFIGURATIONS SYSTÈME
│    │                                          # Profils et presets
│    │                                          # ═══════════════════════════════════════════════
│    │
│    ├─── default.toml                          # Configuration par défaut
│    ├─── desktop.toml                          # Profil desktop
│    ├─── server.toml                           # Profil serveur
│    ├─── embedded.toml                         # Profil embarqué
│    ├─── hpc.toml                              # Profil HPC
│    │
│    └─── posix_x/                              # ════════════════════════════════
│         │                                     # CONFIGURATIONS POSIX-X
│         │                                     # ════════════════════════════════
│         ├─── default.toml                     # Config par défaut
│         │                                     # • CompatibilityMode: Hybrid
│         │                                     # • Enable adaptive: true
│         │                                     # • Enable zerocopy: true
│         │
│         ├─── performance.toml                 # Profil performance max
│         │                                     # • CompatibilityMode: Native
│         │                                     # • Aggressive optimization
│         │
│         ├─── compatibility.toml               # Profil compat max
│         │                                     # • CompatibilityMode: Legacy
│         │                                     # • Maximize compatibility
│         │
│         └─── learning.toml                    # Mode apprentissage
│                                               # • Collect all stats
│                                               # • Generate profiles
│
│
├─── .github/                                   # ═══════════════════════════════════════════════
│    │                                          # GITHUB CI/CD
│    │                                          # Workflows, actions
│    │                                          # ═══════════════════════════════════════════════
│    ├─── workflows/
│    │    ├─── ci.yml                           # CI: build + test
│    │    ├─── release.yml                      # Release automation
│    │    └─── benchmarks.yml                   # Automated benchmarks
│    │
│    └─── ISSUE_TEMPLATE/                       # Issue templates
│
│
├─── LICENSE-MIT                                # License MIT
├─── LICENSE-APACHE                             # License Apache 2.0
├─── CONTRIBUTING.md                            # Guide contribution
├─── CODE_OF_CONDUCT.md                         # Code of conduct
├─── CHANGELOG.md                               # Changelog
├─── ROADMAP.md                                 # ════════════════════════════════
│                                               # ROADMAP PROJET
│                                               # • Phase 1: Core kernel + POSIX-X
│                                               # • Phase 2: Native API
│                                               # • Phase 3: Migration progressive
│                                               # • Phase 4: Dominance native
│                                               # ════════════════════════════════
│
├─── README.md                                  # README principal (from docs/)
├─── Cargo.toml                                 # ════════════════════════════════
│                                               # WORKSPACE ROOT
│                                               # Members:
│                                               # • kernel
│                                               # • posix_x
│                                               # • userland/*
│                                               # • libs/*
│                                               # • tools/*
│                                               # ════════════════════════════════
│
└─── Makefile                                   # ════════════════════════════════
                                                # MAKEFILE PRINCIPAL
                                                # Targets:
                                                # • make kernel (build kernel)
                                                # • make posix-x (build POSIX-X)
                                                # • make userland (build userland)
                                                # • make all (build everything)
                                                # • make test (run tests)
                                                # • make benchmark (run benchmarks)
                                                # • make iso (create bootable ISO)
                                                # • make qemu (run in QEMU)
                                                # • make clean (clean artifacts)
                                                # ════════════════════════════════